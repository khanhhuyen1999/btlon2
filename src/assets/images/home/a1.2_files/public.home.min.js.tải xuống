;(function(a){"use strict",typeof define=="function"&&define.amd?define(["jquery"],a):typeof exports!="undefined"?module.exports=a(require("jquery")):a(jQuery)})(function(a){"use strict";var b=window.Slick||{};b=function(){function c(c,d){var e=this,f;e.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(c),appendDots:a(c),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(b,c){return a('<button type="button" />').text(c+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},e.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},a.extend(e,e.initials),e.activeBreakpoint=null,e.animType=null,e.animProp=null,e.breakpoints=[],e.breakpointSettings=[],e.cssTransitions=!1,e.focussed=!1,e.interrupted=!1,e.hidden="hidden",e.paused=!0,e.positionProp=null,e.respondTo=null,e.rowCount=1,e.shouldClick=!0,e.$slider=a(c),e.$slidesCache=null,e.transformType=null,e.transitionType=null,e.visibilityChange="visibilitychange",e.windowWidth=0,e.windowTimer=null,f=a(c).data("slick")||{},e.options=a.extend({},e.defaults,d,f),e.currentSlide=e.options.initialSlide,e.originalSettings=e.options,typeof document.mozHidden!="undefined"?(e.hidden="mozHidden",e.visibilityChange="mozvisibilitychange"):typeof document.webkitHidden!="undefined"&&(e.hidden="webkitHidden",e.visibilityChange="webkitvisibilitychange"),e.autoPlay=a.proxy(e.autoPlay,e),e.autoPlayClear=a.proxy(e.autoPlayClear,e),e.autoPlayIterator=a.proxy(e.autoPlayIterator,e),e.changeSlide=a.proxy(e.changeSlide,e),e.clickHandler=a.proxy(e.clickHandler,e),e.selectHandler=a.proxy(e.selectHandler,e),e.setPosition=a.proxy(e.setPosition,e),e.swipeHandler=a.proxy(e.swipeHandler,e),e.dragHandler=a.proxy(e.dragHandler,e),e.keyHandler=a.proxy(e.keyHandler,e),e.instanceUid=b++,e.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,e.registerBreakpoints(),e.init(!0)}var b=0;return c}(),b.prototype.activateADA=function(){var a=this;a.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if(typeof c=="boolean")d=c,c=null;else if(c<0||c>=e.slideCount)return!1;e.unload(),typeof c=="number"?c===0&&e.$slides.length===0?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):d===!0?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(a.options.slidesToShow===1&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),e.options.rtl===!0&&e.options.vertical===!1&&(b=-b),e.transformsEnabled===!1?e.options.vertical===!1?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):e.cssTransitions===!1?(e.options.rtl===!0&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),e.options.vertical===!1?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),e.options.vertical===!1?d[e.animType]="translate3d("+b+"px, 0px, 0px)":d[e.animType]="translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.getNavTarget=function(){var b=this,c=b.options.asNavFor;return c&&c!==null&&(c=a(c).not(b.$slider)),c},b.prototype.asNavFor=function(b){var c=this,d=c.getNavTarget();d!==null&&typeof d=="object"&&d.each(function(){var c=a(this).slick("getSlick");c.unslicked||c.slideHandler(b,!0)})},b.prototype.applyTransition=function(a){var b=this,c={};b.options.fade===!1?c[b.transitionType]=b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:c[b.transitionType]="opacity "+b.options.speed+"ms "+b.options.cssEase,b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayClear(),a.slideCount>a.options.slidesToShow&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this,b=a.currentSlide+a.options.slidesToScroll;!a.paused&&!a.interrupted&&!a.focussed&&(a.options.infinite===!1&&(a.direction===1&&a.currentSlide+1===a.slideCount-1?a.direction=0:a.direction===0&&(b=a.currentSlide-a.options.slidesToScroll,a.currentSlide-1===0&&(a.direction=1))),a.slideHandler(b))},b.prototype.buildArrows=function(){var b=this;b.options.arrows===!0&&(b.$prevArrow=a(b.options.prevArrow).addClass("slick-arrow"),b.$nextArrow=a(b.options.nextArrow).addClass("slick-arrow"),b.slideCount>b.options.slidesToShow?(b.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.prependTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),b.options.infinite!==!0&&b.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):b.$prevArrow.add(b.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},b.prototype.buildDots=function(){var b=this,c,d;if(b.options.dots===!0){b.$slider.addClass("slick-dotted"),d=a("<ul />").addClass(b.options.dotsClass);for(c=0;c<=b.getDotCount();c+=1)d.append(a("<li />").append(b.options.customPaging.call(this,b,c)));b.$dots=d.appendTo(b.options.appendDots),b.$dots.find("li").first().addClass("slick-active")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b).data("originalStyling",a(c).attr("style")||"")}),b.$slider.addClass("slick-slider"),b.$slideTrack=b.slideCount===0?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0);if(b.options.centerMode===!0||b.options.swipeToSlide===!0)b.options.slidesToScroll=1;a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.setSlideClasses(typeof b.currentSlide=="number"?b.currentSlide:0),b.options.draggable===!0&&b.$list.addClass("draggable")},b.prototype.buildRows=function(){var a=this,b,c,d,e,f,g,h;e=document.createDocumentFragment(),g=a.$slider.children();if(a.options.rows>1){h=a.options.slidesPerRow*a.options.rows,f=Math.ceil(g.length/h);for(b=0;b<f;b++){var i=document.createElement("div");for(c=0;c<a.options.rows;c++){var j=document.createElement("div");for(d=0;d<a.options.slidesPerRow;d++){var k=b*h+(c*a.options.slidesPerRow+d);g.get(k)&&j.appendChild(g.get(k))}i.appendChild(j)}e.appendChild(i)}a.$slider.empty().append(e),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},b.prototype.checkResponsive=function(b,c){var d=this,e,f,g,h=!1,i=d.$slider.width(),j=window.innerWidth||a(window).width();d.respondTo==="window"?g=j:d.respondTo==="slider"?g=i:d.respondTo==="min"&&(g=Math.min(j,i));if(d.options.responsive&&d.options.responsive.length&&d.options.responsive!==null){f=null;for(e in d.breakpoints)d.breakpoints.hasOwnProperty(e)&&(d.originalSettings.mobileFirst===!1?g<d.breakpoints[e]&&(f=d.breakpoints[e]):g>d.breakpoints[e]&&(f=d.breakpoints[e]));if(f!==null)if(d.activeBreakpoint!==null){if(f!==d.activeBreakpoint||c)d.activeBreakpoint=f,d.breakpointSettings[f]==="unslick"?d.unslick(f):(d.options=a.extend({},d.originalSettings,d.breakpointSettings[f]),b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b)),h=f}else d.activeBreakpoint=f,d.breakpointSettings[f]==="unslick"?d.unslick(f):(d.options=a.extend({},d.originalSettings,d.breakpointSettings[f]),b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b)),h=f;else d.activeBreakpoint!==null&&(d.activeBreakpoint=null,d.options=d.originalSettings,b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b),h=f);!b&&h!==!1&&d.$slider.trigger("breakpoint",[d,h])}},b.prototype.changeSlide=function(b,c){var d=this,e=a(b.currentTarget),f,g,h;e.is("a")&&b.preventDefault(),e.is("li")||(e=e.closest("li")),h=d.slideCount%d.options.slidesToScroll!==0,f=h?0:(d.slideCount-d.currentSlide)%d.options.slidesToScroll;switch(b.data.message){case"previous":g=f===0?d.options.slidesToScroll:d.options.slidesToShow-f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide-g,!1,c);break;case"next":g=f===0?d.options.slidesToScroll:f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide+g,!1,c);break;case"index":var i=b.data.index===0?0:b.data.index||e.index()*d.options.slidesToScroll;d.slideHandler(d.checkNavigable(i),!1,c),e.children().trigger("focus");break;default:return}},b.prototype.checkNavigable=function(a){var b=this,c,d;c=b.getNavigableIndexes(),d=0;if(a>c[c.length-1])a=c[c.length-1];else for(var e in c){if(a<c[e]){a=d;break}d=c[e]}return a},b.prototype.cleanUpEvents=function(){var b=this;b.options.dots&&b.$dots!==null&&(a("li",b.$dots).off("click.slick",b.changeSlide).off("mouseenter.slick",a.proxy(b.interrupt,b,!0)).off("mouseleave.slick",a.proxy(b.interrupt,b,!1)),b.options.accessibility===!0&&b.$dots.off("keydown.slick",b.keyHandler)),b.$slider.off("focus.slick blur.slick"),b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow&&b.$prevArrow.off("click.slick",b.changeSlide),b.$nextArrow&&b.$nextArrow.off("click.slick",b.changeSlide),b.options.accessibility===!0&&(b.$prevArrow&&b.$prevArrow.off("keydown.slick",b.keyHandler),b.$nextArrow&&b.$nextArrow.off("keydown.slick",b.keyHandler))),b.$list.off("touchstart.slick mousedown.slick",b.swipeHandler),b.$list.off("touchmove.slick mousemove.slick",b.swipeHandler),b.$list.off("touchend.slick mouseup.slick",b.swipeHandler),b.$list.off("touchcancel.slick mouseleave.slick",b.swipeHandler),b.$list.off("click.slick",b.clickHandler),a(document).off(b.visibilityChange,b.visibility),b.cleanUpSlideEvents(),b.options.accessibility===!0&&b.$list.off("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().off("click.slick",b.selectHandler),a(window).off("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange),a(window).off("resize.slick.slick-"+b.instanceUid,b.resize),a("[draggable!=true]",b.$slideTrack).off("dragstart",b.preventDefault),a(window).off("load.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.cleanUpSlideEvents=function(){var b=this;b.$list.off("mouseenter.slick",a.proxy(b.interrupt,b,!0)),b.$list.off("mouseleave.slick",a.proxy(b.interrupt,b,!1))},b.prototype.cleanUpRows=function(){var a=this,b;a.options.rows>1&&(b=a.$slides.children().children(),b.removeAttr("style"),a.$slider.empty().append(b))},b.prototype.clickHandler=function(a){var b=this;b.shouldClick===!1&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(b){var c=this;c.autoPlayClear(),c.touchObject={},c.cleanUpEvents(),a(".slick-cloned",c.$slider).detach(),c.$dots&&c.$dots.remove(),c.$prevArrow&&c.$prevArrow.length&&(c.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.prevArrow)&&c.$prevArrow.remove()),c.$nextArrow&&c.$nextArrow.length&&(c.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.nextArrow)&&c.$nextArrow.remove()),c.$slides&&(c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))}),c.$slideTrack.children(this.options.slide).detach(),c.$slideTrack.detach(),c.$list.detach(),c.$slider.append(c.$slides)),c.cleanUpRows(),c.$slider.removeClass("slick-slider"),c.$slider.removeClass("slick-initialized"),c.$slider.removeClass("slick-dotted"),c.unslicked=!0,b||c.$slider.trigger("destroy",[c])},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;c.cssTransitions===!1?(c.$slides.eq(a).css({zIndex:c.options.zIndex}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:c.options.zIndex}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.fadeSlideOut=function(a){var b=this;b.cssTransitions===!1?b.$slides.eq(a).animate({opacity:0,zIndex:b.options.zIndex-2},b.options.speed,b.options.easing):(b.applyTransition(a),b.$slides.eq(a).css({opacity:0,zIndex:b.options.zIndex-2}))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;a!==null&&(b.$slidesCache=b.$slides,b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.focusHandler=function(){var b=this;b.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(c){c.stopImmediatePropagation();var d=a(this);setTimeout(function(){b.options.pauseOnFocus&&(b.focussed=d.is(":focus"),b.autoPlay())},0)})},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){var a=this;return a.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(a.options.infinite===!0)if(a.slideCount<=a.options.slidesToShow)++d;else while(b<a.slideCount)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else if(a.options.centerMode===!0)d=a.slideCount;else if(!a.options.asNavFor)d=1+Math.ceil((a.slideCount-a.options.slidesToShow)/a.options.slidesToScroll);else while(b<a.slideCount)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d-1},b.prototype.getLeft=function(a){var b=this,c,d,e=0,f,g;return b.slideOffset=0,d=b.$slides.first().outerHeight(!0),b.options.infinite===!0?(b.slideCount>b.options.slidesToShow&&(b.slideOffset=b.slideWidth*b.options.slidesToShow*-1,g=-1,b.options.vertical===!0&&b.options.centerMode===!0&&(b.options.slidesToShow===2?g=-1.5:b.options.slidesToShow===1&&(g=-2)),e=d*b.options.slidesToShow*g),b.slideCount%b.options.slidesToScroll!==0&&a+b.options.slidesToScroll>b.slideCount&&b.slideCount>b.options.slidesToShow&&(a>b.slideCount?(b.slideOffset=(b.options.slidesToShow-(a-b.slideCount))*b.slideWidth*-1,e=(b.options.slidesToShow-(a-b.slideCount))*d*-1):(b.slideOffset=b.slideCount%b.options.slidesToScroll*b.slideWidth*-1,e=b.slideCount%b.options.slidesToScroll*d*-1))):a+b.options.slidesToShow>b.slideCount&&(b.slideOffset=(a+b.options.slidesToShow-b.slideCount)*b.slideWidth,e=(a+b.options.slidesToShow-b.slideCount)*d),b.slideCount<=b.options.slidesToShow&&(b.slideOffset=0,e=0),b.options.centerMode===!0&&b.slideCount<=b.options.slidesToShow?b.slideOffset=b.slideWidth*Math.floor(b.options.slidesToShow)/2-b.slideWidth*b.slideCount/2:b.options.centerMode===!0&&b.options.infinite===!0?b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)-b.slideWidth:b.options.centerMode===!0&&(b.slideOffset=0,b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)),b.options.vertical===!1?c=a*b.slideWidth*-1+b.slideOffset:c=a*d*-1+e,b.options.variableWidth===!0&&(b.slideCount<=b.options.slidesToShow||b.options.infinite===!1?f=b.$slideTrack.children(".slick-slide").eq(a):f=b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow),b.options.rtl===!0?f[0]?c=(b.$slideTrack.width()-f[0].offsetLeft-f.width())*-1:c=0:c=f[0]?f[0].offsetLeft*-1:0,b.options.centerMode===!0&&(b.slideCount<=b.options.slidesToShow||b.options.infinite===!1?f=b.$slideTrack.children(".slick-slide").eq(a):f=b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow+1),b.options.rtl===!0?f[0]?c=(b.$slideTrack.width()-f[0].offsetLeft-f.width())*-1:c=0:c=f[0]?f[0].offsetLeft*-1:0,c+=(b.$list.width()-f.outerWidth())/2)),c},b.prototype.getOption=b.prototype.slickGetOption=function(a){var b=this;return b.options[a]},b.prototype.getNavigableIndexes=function(){var a=this,b=0,c=0,d=[],e;a.options.infinite===!1?e=a.slideCount:(b=a.options.slidesToScroll*-1,c=a.options.slidesToScroll*-1,e=a.slideCount*2);while(b<e)d.push(b),b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var b=this,c,d,e;return e=b.options.centerMode===!0?b.slideWidth*Math.floor(b.options.slidesToShow/2):0,b.options.swipeToSlide===!0?(b.$slideTrack.find(".slick-slide").each(function(c,f){if(f.offsetLeft-e+a(f).outerWidth()/2>b.swipeLeft*-1)return d=f,!1}),c=Math.abs(a(d).attr("data-slick-index")-b.currentSlide)||1,c):b.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){var c=this;c.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(b){var c=this;a(c.$slider).hasClass("slick-initialized")||(a(c.$slider).addClass("slick-initialized"),c.buildRows(),c.buildOut(),c.setProps(),c.startLoad(),c.loadSlider(),c.initializeEvents(),c.updateArrows(),c.updateDots(),c.checkResponsive(!0),c.focusHandler()),b&&c.$slider.trigger("init",[c]),c.options.accessibility===!0&&c.initADA(),c.options.autoplay&&(c.paused=!1,c.autoPlay())},b.prototype.initADA=function(){var b=this,c=Math.ceil(b.slideCount/b.options.slidesToShow),d=b.getNavigableIndexes().filter(function(a){return a>=0&&a<b.slideCount});b.$slides.add(b.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),b.$dots!==null&&(b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function(c){var e=d.indexOf(c);a(this).attr({role:"tabpanel",id:"slick-slide"+b.instanceUid+c,tabindex:-1}),e!==-1&&a(this).attr({"aria-describedby":"slick-slide-control"+b.instanceUid+e})}),b.$dots.attr("role","tablist").find("li").each(function(e){var f=d[e];a(this).attr({role:"presentation"}),a(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+b.instanceUid+e,"aria-controls":"slick-slide"+b.instanceUid+f,"aria-label":e+1+" of "+c,"aria-selected":null,tabindex:"-1"})}).eq(b.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=b.currentSlide,f=e+b.options.slidesToShow;e<f;e++)b.$slides.eq(e).attr("tabindex",0);b.activateADA()},b.prototype.initArrowEvents=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.off("click.slick").on("click.slick",{message:"next"},a.changeSlide),a.options.accessibility===!0&&(a.$prevArrow.on("keydown.slick",a.keyHandler),a.$nextArrow.on("keydown.slick",a.keyHandler)))},b.prototype.initDotEvents=function(){var b=this;b.options.dots===!0&&(a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),b.options.accessibility===!0&&b.$dots.on("keydown.slick",b.keyHandler)),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&a("li",b.$dots).on("mouseenter.slick",a.proxy(b.interrupt,b,!0)).on("mouseleave.slick",a.proxy(b.interrupt,b,!1))},b.prototype.initSlideEvents=function(){var b=this;b.options.pauseOnHover&&(b.$list.on("mouseenter.slick",a.proxy(b.interrupt,b,!0)),b.$list.on("mouseleave.slick",a.proxy(b.interrupt,b,!1)))},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.initSlideEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),a(document).on(b.visibilityChange,a.proxy(b.visibility,b)),b.options.accessibility===!0&&b.$list.on("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,a.proxy(b.orientationChange,b)),a(window).on("resize.slick.slick-"+b.instanceUid,a.proxy(b.resize,b)),a("[draggable!=true]",b.$slideTrack).on("dragstart",b.preventDefault),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(b.setPosition)},b.prototype.initUI=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.show()},b.prototype.keyHandler=function(a){var b=this;a.target.tagName.match("TEXTAREA|INPUT|SELECT")||(a.keyCode===37&&b.options.accessibility===!0?b.changeSlide({data:{message:b.options.rtl===!0?"next":"previous"}}):a.keyCode===39&&b.options.accessibility===!0&&b.changeSlide({data:{message:b.options.rtl===!0?"previous":"next"}}))},b.prototype.lazyLoad=function(){function g(c){a("img[data-lazy]",c).each(function(){var c=a(this),d=a(this).attr("data-lazy"),e=a(this).attr("data-srcset"),f=a(this).attr("data-sizes")||b.$slider.attr("data-sizes"),g=document.createElement("img");g.onload=function(){c.animate({opacity:0},100,function(){e&&(c.attr("srcset",e),f&&c.attr("sizes",f)),c.attr("src",d).animate({opacity:1},200,function(){c.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),b.$slider.trigger("lazyLoaded",[b,c,d])})},g.onerror=function(){c.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),b.$slider.trigger("lazyLoadError",[b,c,d])},g.src=d})}var b=this,c,d,e,f;b.options.centerMode===!0?b.options.infinite===!0?(e=b.currentSlide+(b.options.slidesToShow/2+1),f=e+b.options.slidesToShow+2):(e=Math.max(0,b.currentSlide-(b.options.slidesToShow/2+1)),f=2+(b.options.slidesToShow/2+1)+b.currentSlide):(e=b.options.infinite?b.options.slidesToShow+b.currentSlide:b.currentSlide,f=Math.ceil(e+b.options.slidesToShow),b.options.fade===!0&&(e>0&&e--,f<=b.slideCount&&f++)),c=b.$slider.find(".slick-slide").slice(e,f);if(b.options.lazyLoad==="anticipated"){var h=e-1,i=f,j=b.$slider.find(".slick-slide");for(var k=0;k<b.options.slidesToScroll;k++)h<0&&(h=b.slideCount-1),c=c.add(j.eq(h)),c=c.add(j.eq(i)),h--,i++}g(c),b.slideCount<=b.options.slidesToShow?(d=b.$slider.find(".slick-slide"),g(d)):b.currentSlide>=b.slideCount-b.options.slidesToShow?(d=b.$slider.find(".slick-cloned").slice(0,b.options.slidesToShow),g(d)):b.currentSlide===0&&(d=b.$slider.find(".slick-cloned").slice(b.options.slidesToShow*-1),g(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),a.options.lazyLoad==="progressive"&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){var a=this;a.changeSlide({data:{message:"next"}})},b.prototype.orientationChange=function(){var a=this;a.checkResponsive(),a.setPosition()},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.autoPlay(),a.options.autoplay=!0,a.paused=!1,a.focussed=!1,a.interrupted=!1},b.prototype.postSlide=function(b){var c=this;if(!c.unslicked){c.$slider.trigger("afterChange",[c,b]),c.animating=!1,c.slideCount>c.options.slidesToShow&&c.setPosition(),c.swipeLeft=null,c.options.autoplay&&c.autoPlay();if(c.options.accessibility===!0){c.initADA();if(c.options.focusOnChange){var d=a(c.$slides.get(c.currentSlide));d.attr("tabindex",0).focus()}}}},b.prototype.prev=b.prototype.slickPrev=function(){var a=this;a.changeSlide({data:{message:"previous"}})},b.prototype.preventDefault=function(a){a.preventDefault()},b.prototype.progressiveLazyLoad=function(b){b=b||1;var c=this,d=a("img[data-lazy]",c.$slider),e,f,g,h,i;d.length?(e=d.first(),f=e.attr("data-lazy"),g=e.attr("data-srcset"),h=e.attr("data-sizes")||c.$slider.attr("data-sizes"),i=document.createElement("img"),i.onload=function(){g&&(e.attr("srcset",g),h&&e.attr("sizes",h)),e.attr("src",f).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),c.options.adaptiveHeight===!0&&c.setPosition(),c.$slider.trigger("lazyLoaded",[c,e,f]),c.progressiveLazyLoad()},i.onerror=function(){b<3?setTimeout(function(){c.progressiveLazyLoad(b+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),c.$slider.trigger("lazyLoadError",[c,e,f]),c.progressiveLazyLoad())},i.src=f):c.$slider.trigger("allImagesLoaded",[c])},b.prototype.refresh=function(b){var c=this,d,e;e=c.slideCount-c.options.slidesToShow,!c.options.infinite&&c.currentSlide>e&&(c.currentSlide=e),c.slideCount<=c.options.slidesToShow&&(c.currentSlide=0),d=c.currentSlide,c.destroy(!0),a.extend(c,c.initials,{currentSlide:d}),c.init(),b||c.changeSlide({data:{message:"index",index:d}},!1)},b.prototype.registerBreakpoints=function(){var b=this,c,d,e,f=b.options.responsive||null;if(a.type(f)==="array"&&f.length){b.respondTo=b.options.respondTo||"window";for(c in f){e=b.breakpoints.length-1;if(f.hasOwnProperty(c)){d=f[c].breakpoint;while(e>=0)b.breakpoints[e]&&b.breakpoints[e]===d&&b.breakpoints.splice(e,1),e--;b.breakpoints.push(d),b.breakpointSettings[d]=f[c].settings}}b.breakpoints.sort(function(a,c){return b.options.mobileFirst?a-c:c-a})}},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&b.currentSlide!==0&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.registerBreakpoints(),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.cleanUpSlideEvents(),b.initSlideEvents(),b.checkResponsive(!1,!0),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses(typeof b.currentSlide=="number"?b.currentSlide:0),b.setPosition(),b.focusHandler(),b.paused=!b.options.autoplay,b.autoPlay(),b.$slider.trigger("reInit",[b])},b.prototype.resize=function(){var b=this;a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.unslicked||b.setPosition()},50))},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;typeof a=="boolean"?(b=a,a=b===!0?0:d.slideCount-1):a=b===!0?--a:a;if(d.slideCount<1||a<0||a>d.slideCount-1)return!1;d.unload(),c===!0?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,d.reinit()},b.prototype.setCSS=function(a){var b=this,c={},d,e;b.options.rtl===!0&&(a=-a),d=b.positionProp=="left"?Math.ceil(a)+"px":"0px",e=b.positionProp=="top"?Math.ceil(a)+"px":"0px",c[b.positionProp]=a,b.transformsEnabled===!1?b.$slideTrack.css(c):(c={},b.cssTransitions===!1?(c[b.animType]="translate("+d+", "+e+")",b.$slideTrack.css(c)):(c[b.animType]="translate3d("+d+", "+e+", 0px)",b.$slideTrack.css(c)))},b.prototype.setDimensions=function(){var a=this;a.options.vertical===!1?a.options.centerMode===!0&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),a.options.centerMode===!0&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),a.options.vertical===!1&&a.options.variableWidth===!1?(a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length))):a.options.variableWidth===!0?a.$slideTrack.width(5e3*a.slideCount):(a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length)));var b=a.$slides.first().outerWidth(!0)-a.$slides.first().width();a.options.variableWidth===!1&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-b)},b.prototype.setFade=function(){var b=this,c;b.$slides.each(function(d,e){c=b.slideWidth*d*-1,b.options.rtl===!0?a(e).css({position:"relative",right:c,top:0,zIndex:b.options.zIndex-2,opacity:0}):a(e).css({position:"relative",left:c,top:0,zIndex:b.options.zIndex-2,opacity:0})}),b.$slides.eq(b.currentSlide).css({zIndex:b.options.zIndex-1,opacity:1})},b.prototype.setHeight=function(){var a=this;if(a.options.slidesToShow===1&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(){var b=this,c,d,e,f,g=!1,h;a.type(arguments[0])==="object"?(e=arguments[0],g=arguments[1],h="multiple"):a.type(arguments[0])==="string"&&(e=arguments[0],f=arguments[1],g=arguments[2],arguments[0]==="responsive"&&a.type(arguments[1])==="array"?h="responsive":typeof arguments[1]!="undefined"&&(h="single"));if(h==="single")b.options[e]=f;else if(h==="multiple")a.each(e,function(a,c){b.options[a]=c});else if(h==="responsive")for(d in f)if(a.type(b.options.responsive)!=="array")b.options.responsive=[f[d]];else{c=b.options.responsive.length-1;while(c>=0)b.options.responsive[c].breakpoint===f[d].breakpoint&&b.options.responsive.splice(c,1),c--;b.options.responsive.push(f[d])}g&&(b.unload(),b.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),a.options.fade===!1?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=a.options.vertical===!0?"top":"left",a.positionProp==="top"?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),(b.WebkitTransition!==undefined||b.MozTransition!==undefined||b.msTransition!==undefined)&&a.options.useCSS===!0&&(a.cssTransitions=!0),a.options.fade&&(typeof a.options.zIndex=="number"?a.options.zIndex<3&&(a.options.zIndex=3):a.options.zIndex=a.defaults.zIndex),b.OTransform!==undefined&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",b.perspectiveProperty===undefined&&b.webkitPerspective===undefined&&(a.animType=!1)),b.MozTransform!==undefined&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",b.perspectiveProperty===undefined&&b.MozPerspective===undefined&&(a.animType=!1)),b.webkitTransform!==undefined&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",b.perspectiveProperty===undefined&&b.webkitPerspective===undefined&&(a.animType=!1)),b.msTransform!==undefined&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",b.msTransform===undefined&&(a.animType=!1)),b.transform!==undefined&&a.animType!==!1&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=a.options.useTransform&&a.animType!==null&&a.animType!==!1},b.prototype.setSlideClasses=function(a){var b=this,c,d,e,f;d=b.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),b.$slides.eq(a).addClass("slick-current");if(b.options.centerMode===!0){var g=b.options.slidesToShow%2===0?1:0;c=Math.floor(b.options.slidesToShow/2),b.options.infinite===!0&&(a>=c&&a<=b.slideCount-1-c?b.$slides.slice(a-c+g,a+c+1).addClass("slick-active").attr("aria-hidden","false"):(e=b.options.slidesToShow+a,d.slice(e-c+1+g,e+c+2).addClass("slick-active").attr("aria-hidden","false")),a===0?d.eq(d.length-1-b.options.slidesToShow).addClass("slick-center"):a===b.slideCount-1&&d.eq(b.options.slidesToShow).addClass("slick-center")),b.$slides.eq(a).addClass("slick-center")}else a>=0&&a<=b.slideCount-b.options.slidesToShow?b.$slides.slice(a,a+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):d.length<=b.options.slidesToShow?d.addClass("slick-active").attr("aria-hidden","false"):(f=b.slideCount%b.options.slidesToShow,e=b.options.infinite===!0?b.options.slidesToShow+a:a,b.options.slidesToShow==b.options.slidesToScroll&&b.slideCount-a<b.options.slidesToShow?d.slice(e-(b.options.slidesToShow-f),e+f).addClass("slick-active").attr("aria-hidden","false"):d.slice(e,e+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));(b.options.lazyLoad==="ondemand"||b.options.lazyLoad==="anticipated")&&b.lazyLoad()},b.prototype.setupInfinite=function(){var b=this,c,d,e;b.options.fade===!0&&(b.options.centerMode=!1);if(b.options.infinite===!0&&b.options.fade===!1){d=null;if(b.slideCount>b.options.slidesToShow){b.options.centerMode===!0?e=b.options.slidesToShow+1:e=b.options.slidesToShow;for(c=b.slideCount;c>b.slideCount-e;c-=1)d=c-1,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d-b.slideCount).prependTo(b.$slideTrack).addClass("slick-cloned");for(c=0;c<e+b.slideCount;c+=1)d=c,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d+b.slideCount).appendTo(b.$slideTrack).addClass("slick-cloned");b.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}}},b.prototype.interrupt=function(a){var b=this;a||b.autoPlay(),b.interrupted=a},b.prototype.selectHandler=function(b){var c=this,d=a(b.target).is(".slick-slide")?a(b.target):a(b.target).parents(".slick-slide"),e=parseInt(d.attr("data-slick-index"));e||(e=0);if(c.slideCount<=c.options.slidesToShow){c.slideHandler(e,!1,!0);return}c.slideHandler(e)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h=null,i=this,j;b=b||!1;if(i.animating===!0&&i.options.waitForAnimate===!0)return;if(i.options.fade===!0&&i.currentSlide===a)return;b===!1&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=i.swipeLeft===null?g:i.swipeLeft;if(i.options.infinite===!1&&i.options.centerMode===!1&&(a<0||a>i.getDotCount()*i.options.slidesToScroll)){i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d));return}if(i.options.infinite===!1&&i.options.centerMode===!0&&(a<0||a>i.slideCount-i.options.slidesToScroll)){i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d));return}i.options.autoplay&&clearInterval(i.autoPlayTimer),d<0?i.slideCount%i.options.slidesToScroll!==0?e=i.slideCount-i.slideCount%i.options.slidesToScroll:e=i.slideCount+d:d>=i.slideCount?i.slideCount%i.options.slidesToScroll!==0?e=0:e=d-i.slideCount:e=d,i.animating=!0,i.$slider.trigger("beforeChange",[i,i.currentSlide,e]),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.options.asNavFor&&(j=i.getNavTarget(),j=j.slick("getSlick"),j.slideCount<=j.options.slidesToShow&&j.setSlideClasses(i.currentSlide)),i.updateDots(),i.updateArrows();if(i.options.fade===!0){c!==!0?(i.fadeSlideOut(f),i.fadeSlide(e,function(){i.postSlide(e)})):i.postSlide(e),i.animateHeight();return}c!==!0?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e)},b.prototype.startLoad=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(c*180/Math.PI),d<0&&(d=360-Math.abs(d)),d<=45&&d>=0?e.options.rtl===!1?"left":"right":d<=360&&d>=315?e.options.rtl===!1?"left":"right":d>=135&&d<=225?e.options.rtl===!1?"right":"left":e.options.verticalSwiping===!0?d>=35&&d<=135?"down":"up":"vertical"},b.prototype.swipeEnd=function(a){var b=this,c,d;b.dragging=!1,b.swiping=!1;if(b.scrolling)return b.scrolling=!1,!1;b.interrupted=!1,b.shouldClick=b.touchObject.swipeLength>10?!1:!0;if(b.touchObject.curX===undefined)return!1;b.touchObject.edgeHit===!0&&b.$slider.trigger("edge",[b,b.swipeDirection()]);if(b.touchObject.swipeLength>=b.touchObject.minSwipe){d=b.swipeDirection();switch(d){case"left":case"down":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide+b.getSlideCount()):b.currentSlide+b.getSlideCount(),b.currentDirection=0;break;case"right":case"up":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide-b.getSlideCount()):b.currentSlide-b.getSlideCount(),b.currentDirection=1;break;default:}d!="vertical"&&(b.slideHandler(c),b.touchObject={},b.$slider.trigger("swipe",[b,d]))}else b.touchObject.startX!==b.touchObject.curX&&(b.slideHandler(b.currentSlide),b.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(b.options.swipe===!1||"ontouchend"in document&&b.options.swipe===!1)return;if(b.options.draggable===!1&&a.type.indexOf("mouse")!==-1)return;b.touchObject.fingerCount=a.originalEvent&&a.originalEvent.touches!==undefined?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,b.options.verticalSwiping===!0&&(b.touchObject.minSwipe=b.listHeight/b.options.touchThreshold);switch(a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var b=this,c=!1,d,e,f,g,h,i;h=a.originalEvent!==undefined?a.originalEvent.touches:null;if(!b.dragging||b.scrolling||h&&h.length!==1)return!1;d=b.getLeft(b.currentSlide),b.touchObject.curX=h!==undefined?h[0].pageX:a.clientX,b.touchObject.curY=h!==undefined?h[0].pageY:a.clientY,b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curX-b.touchObject.startX,2))),i=Math.round(Math.sqrt(Math.pow(b.touchObject.curY-b.touchObject.startY,2)));if(!b.options.verticalSwiping&&!b.swiping&&i>4)return b.scrolling=!0,!1;b.options.verticalSwiping===!0&&(b.touchObject.swipeLength=i),e=b.swipeDirection(),a.originalEvent!==undefined&&b.touchObject.swipeLength>4&&(b.swiping=!0,a.preventDefault()),g=(b.options.rtl===!1?1:-1)*(b.touchObject.curX>b.touchObject.startX?1:-1),b.options.verticalSwiping===!0&&(g=b.touchObject.curY>b.touchObject.startY?1:-1),f=b.touchObject.swipeLength,b.touchObject.edgeHit=!1,b.options.infinite===!1&&(b.currentSlide===0&&e==="right"||b.currentSlide>=b.getDotCount()&&e==="left")&&(f=b.touchObject.swipeLength*b.options.edgeFriction,b.touchObject.edgeHit=!0),b.options.vertical===!1?b.swipeLeft=d+f*g:b.swipeLeft=d+f*(b.$list.height()/b.listWidth)*g,b.options.verticalSwiping===!0&&(b.swipeLeft=d+f*g);if(b.options.fade===!0||b.options.touchMove===!1)return!1;if(b.animating===!0)return b.swipeLeft=null,!1;b.setCSS(b.swipeLeft)},b.prototype.swipeStart=function(a){var b=this,c;b.interrupted=!0;if(b.touchObject.fingerCount!==1||b.slideCount<=b.options.slidesToShow)return b.touchObject={},!1;a.originalEvent!==undefined&&a.originalEvent.touches!==undefined&&(c=a.originalEvent.touches[0]),b.touchObject.startX=b.touchObject.curX=c!==undefined?c.pageX:a.clientX,b.touchObject.startY=b.touchObject.curY=c!==undefined?c.pageY:a.clientY,b.dragging=!0},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;a.$slidesCache!==null&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.remove(),b.$nextArrow&&b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},b.prototype.unslick=function(a){var b=this;b.$slider.trigger("unslick",[b,a]),b.destroy()},b.prototype.updateArrows=function(){var a=this,b;b=Math.floor(a.options.slidesToShow/2),a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&!a.options.infinite&&(a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),a.currentSlide===0?(a.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-a.options.slidesToShow&&a.options.centerMode===!1?(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-1&&a.options.centerMode===!0&&(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},b.prototype.updateDots=function(){var a=this;a.$dots!==null&&(a.$dots.find("li").removeClass("slick-active").end(),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active"))},b.prototype.visibility=function(){var a=this;a.options.autoplay&&(document[a.hidden]?a.interrupted=!0:a.interrupted=!1)},a.fn.slick=function(){var a=this,c=arguments[0],d=Array.prototype.slice.call(arguments,1),e=a.length,f,g;for(f=0;f<e;f++){typeof c=="object"||typeof c=="undefined"?a[f].slick=new b(a[f],c):g=a[f].slick[c].apply(a[f].slick,d);if(typeof g!="undefined")return g}return a}})
;function HomeBannerModel(){var a=this;a.IntervalId,a.HomeBannerHover=!1,a.SlideTime,a.IsInterval,a.CycleImage=function(){if(!a.HomeBannerHover){var b=$(".image_thumb ul li:last").hasClass("active"),c=$(".image_thumb ul li.active");if(b)var d=$(".image_thumb ul li:first");else var d=$(".image_thumb ul li.active").next();$(c).removeClass("active"),$(d).addClass("active"),$(".arrow-current").remove(),$(".image_thumb ul li.active").append('<div class="arrow-current"></div>');var e=$(d).find("img").attr("alt"),f=$(d).find("a").attr("href"),g=$(d).find(".block .lst-left-thumb-img-container").html();$(".main_image").animate({opacity:0},750,function(){$(".main_image .block").html(g),$(".main_image .big-img").attr({src:f,alt:e}),$(".main_image").animate({opacity:1},1e3),$(".left-thumb-img a").fancybox({prevEffect:"fade",nextEffect:"fade",openEffect:"fade"})})}},a.SlideBanner=function(){a.IsInterval&&(a.IntervalId=setInterval(a.CycleImage,a.SlideTime)),$(".main_image .desc").show(),$(".main_image .block").animate({opacity:1},1),$(".image_thumb ul li:first").addClass("active"),$(".image_thumb ul li:first").append('<div class="arrow-current"></div>'),$(".image_thumb ul li").click(function(){var a=$(this).find("img").attr("alt"),b=$(this).find("a").attr("href"),c=$(this).find(".block .lst-left-thumb-img-container").html();return $(this).is(".active")?!1:($(".main_image").animate({opacity:0},750,function(){$(".main_image .block").html(c),$(".main_image .big-img").attr({src:b,alt:a}),$(".main_image").animate({opacity:1},1e3),$(".left-thumb-img a").fancybox({prevEffect:"fade",nextEffect:"fade",openEffect:"fade"})}),$(".image_thumb ul li").removeClass("active"),$(this).addClass("active"),$(".arrow-current").remove(),$(".image_thumb ul li.active").append('<div class="arrow-current"></div>'),!1)}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),$("a.collapse").click(function(){$(".main_image .block").slideToggle(),$("a.collapse").toggleClass("show")}),$("#home-banner-1-2-main").hover(function(){a.HomeBannerHover=!0},function(){a.HomeBannerHover=!1})},a.Init=function(b){var c={slideTime:15e3,isInterval:!0};b=$.extend({},c,b),a.SlideTime=b.slideTime,a.IsInterval=b.isInterval,a.SlideBanner()}}
;(function(){function a(a,b,c,d,e,f,g,h){var i=this;i.$scope=b}"use strict",angular.module("FoodyApp").controller("HomeMainCtrl",a),a.$inject=["$http","$scope","$rootScope","$route","$routeParams","$location","$element","Helper"]})()
;(function(){function a(a,b,c,d,e,f,g,h){var i=this;i.$scope=b,b.IsLoaded=!1,b.Cate={Items:[],IsLoading:!1,ActiveId:null,Type:1},b.SortOption={Items:[{Id:1,Name:HomeTableText.SortFeatured},{Id:2,Name:HomeTableText.SortTopBooking},{Id:3,Name:HomeTableText.SortNearby},{Id:4,Name:HomeTableText.SortJustOrdered}],IsLoading:!1,ActiveId:null},b.ListItems={Items:[],IsLoading:!1,TotalPage:0,Filter:{Count:10,Page:0,SortType:1,CategoryId:0,CityId:null}},b.setupSupportLocation=function(a){b.$apply(function(){b.ListItems.Filter.Lat=a.coords.latitude,b.ListItems.Filter.Lon=a.coords.longitude}),$.cookie("_pos.coords",b.ListItems.Filter.Lat+"-"+b.ListItems.Filter.Lon,{path:"/"})},b.unsupportLocation=function(){b.ListItems.Filter.Lat=window.defaultLatgitude?defaultLatgitude:0,b.ListItems.Filter.Lon=window.defaultLongitude?defaultLongitude:0,alert("We cant detect your current location!"),location.reload()};var j=function(a,c){b.Cate.Items=a.Items;if(a.Items.length>0){var d={Id:-1,Name:"Special Offers"};b.Cate.Items.push(d)}h.RunFnc(c)};b.BindCategories=function(a){var b="";if(a.IsDeal)return a.DealInfo;for(var c=0;c<a.Categories.length;c++)b=b+(b!=""?", ":"")+a.Categories[c].Name;return b},b.IsActiveCate=function(a){return a==b.Cate.ActiveId},b.IsActiveSort=function(a){return a==b.SortOption.ActiveId},b.CateClick=function(){var a=b.SortOption.Items[0];a&&(b.ListItems.Filter.SortType=a.Id,b.SortOption.ActiveId=a.Id,b.SortType=a),b.ListItems.Filter.Page=0,b.ListItems.Filter.Lat=0,b.ListItems.Filter.Lon=0,b.ListItems.Filter.CategoryId=b.SelectedCate.Id,b.Cate.ActiveId=b.SelectedCate.Id,b.Cate.Type=b.Cate.ActiveId==-1?2:1};var k=function(a,c){b.ListItems.Items=a.Items,b.ListItems.Total=a.Total,b.ListItems.TotalPage=b.ListItems.Total/b.ListItems.Filter.Count,b.IsLoaded=!0,h.RunFnc(c)};b.ShowPrev=function(){return b.ListItems.Filter.Page>0},b.ShowNext=function(){return b.ListItems.Filter.Page<b.ListItems.TotalPage-1},b.ListNext=function(){b.ListItems.Filter.Page++},b.ListPrev=function(){b.ListItems.Filter.Page>0?b.ListItems.Filter.Page--:b.ListItems.Filter.Page=0},b.Init=function(){b.IsLoaded=!1;var a=window.RootCountryId;a==null||a!=86},b.SortClick=function(){b.ListItems.Filter.Page=0,b.ListItems.Filter.Lat=0,b.ListItems.Filter.Lon=0,b.ListItems.Filter.SortType=b.SortType.Id,b.SortOption.ActiveId=b.SortType.Id}}"use strict",angular.module("FoodyApp").controller("TableNowCtrl",a),a.$inject=["$http","$scope","$rootScope","$route","$routeParams","$location","$element","Helper"]})()
;(function(){function a(a,b,c,d,e,f,g,h){function o(a){if(a.Categories){b.SubCate={Items:[],IsLoading:!1,ActiveId:null};for(var c=0;c<a.Categories.length;c++)b.SubCate.Items.push(a.Categories[c])}}var i=this;i.$scope=b,b.IsLoaded=!1,b.IsShowMore=!1,b.LoadMoreText=Text.Viewmore,b.Cate={Items:[],IsLoading:!1,ActiveId:null,Type:1},b.SubCate={Items:[],IsLoading:!1,ActiveId:null},b.SortOption={Items:[{Id:2,Name:HomeDeliText.SortTopOrder},{Id:3,Name:HomeDeliText.SortNearby},{Id:10,Name:HomeDeliText.SortJustOrdered},{Id:26,Name:HomeDeliText.SortVerified},{Id:6,Name:HomeDeliText.SortOpening},{Id:7,Name:HomeDeliText.SortDeliveryByNow},{Id:1,Name:HomeDeliText.SortFeature},{Id:25,Name:HomeDeliText.SortPreferred}],IsLoading:!1,ActiveId:null},b.ListItems={Items:[],IsLoading:!1,PageIds:[0],PageIdx:0,Filter:{Count:25,NextId:null,CategoryGroupId:1,SortType:10,Categories:"",CityId:null,Lat:0,Lon:0}},b.setupSupportLocation=function(a){b.$apply(function(){b.ListItems.Filter.Lat=a.coords.latitude,b.ListItems.Filter.Lon=a.coords.longitude}),$.cookie("_pos.coords",b.ListItems.Filter.Lat+"-"+b.ListItems.Filter.Lon,{path:"/"})},b.unsupportLocation=function(){b.ListItems.Filter.Lat=window.defaultLatgitude?defaultLatgitude:0,b.ListItems.Filter.Lon=window.defaultLongitude?defaultLongitude:0,alert("We cant detect your current location!"),location.reload()};var j=function(c){if(b.ListItems.IsLoading)return;b.ListItems.IsLoading=!0;var d=b.Cate.Type==1?"/__get/Place/HomeBrowseDelivery":"/__get/Place/HomeBrowseDeliveryDeals";b.ListItems.Filter.SortType==3?navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){b.setupSupportLocation(e),b.Cate.Type!=1?b.ListItems.Filter.Count=10:b.ListItems.Filter.Count=25,d+=h.GetParamRnd(d),d+="&"+h.GetUrlParams(b.ListItems.Filter),a.get(d).then(function(a){a=a.data;if(!a||!a.Items){b.ListItems.IsLoading=!1;return}h.RunFnc(c,a),b.ListItems.IsLoading=!1}).catch(function(a){b.ListItems.IsLoading=!1})},function(){b.unsupportLocation()}):(b.Cate.Type!=1?b.ListItems.Filter.Count=10:b.ListItems.Filter.Count=25,d+=h.GetParamRnd(d),d+="&"+h.GetUrlParams(b.ListItems.Filter),a.get(d).then(function(a){a=a.data;if(!a||!a.Items){b.ListItems.IsLoading=!1;return}if(a.Items.length==0&&b.Cate.Type!=1&&!b.IsLoaded){var d=b.Cate.Items[0];d&&(b.ListItems.IsLoading=!1,b.CateClick(d))}h.RunFnc(c,a),b.ListItems.IsLoading=!1}).catch(function(a){b.ListItems.IsLoading=!1}))},k=function(c){if(b.ListItems.IsLoading)return;b.ListItems.IsLoading=!0;var d="/__get/Delivery/HomeListDeals";d+=h.GetParamRnd(d),d+="&"+h.GetUrlParams(b.ListItems.Filter),a.get(d).then(function(a){a=a.data;if(!a||!a.lsDeliveryOffer){b.ListItems.IsLoading=!1;return}h.RunFnc(c,a),b.ListItems.IsLoading=!1}).catch(function(a){b.ListItems.IsLoading=!1})},l=function(a,c){b.ListItems.Items=a.Items,b.ListItems.Filter.NextId=a.NextId,b.ListItems.PageIds.indexOf(a.NextId)<0&&b.ListItems.PageIds.push(a.NextId),b.ListItems.Count=a.Count,b.ListItems.Total=a.Total,b.IsLoaded=!0,h.RunFnc(c)},m=function(c){if(b.Cate.IsLoading)return;b.Cate.IsLoading=!0;var d="/__get/place/HomeCategoryDelivery";d+=h.GetParamRnd(d),d+="&"+h.GetUrlParams({CityId:b.Cate.CityId}),a.get(d).then(function(a){a=a.data;if(!a||!a.Items){b.Cate.IsLoading=!1;return}h.RunFnc(c,a),b.Cate.IsLoading=!1}).catch(function(a){b.Cate.IsLoading=!1})},n=function(a,c){b.Cate.Items=a.Items,h.RunFnc(c)};b.ShowPrev=function(){return b.ListItems.PageIdx>0},b.ShowNext=function(){return b.ListItems.Total>10},b.ListNext=function(){b.ListItems.PageIdx++,j(function(a){l(a)})},b.ListPrev=function(){var a=b.ListItems.PageIds[b.ListItems.PageIdx-1];a==undefined?(b.ListItems.PageIdx=0,a=0):b.ListItems.PageIdx--,b.ListItems.Filter.NextId=a,j(function(a){l(a)})},b.BindCategories=function(a){var b="";if(a.IsDeal)return a.DealInfo;for(var c=0;c<a.Categories.length;c++)b=b+(b!=""?", ":"")+a.Categories[c].Name;return b},b.IsActiveCate=function(a){return a==b.Cate.ActiveId},b.IsActiveSort=function(a){return a==b.SortOption.ActiveId},b.Filter=function(){b.ListItems.PageIds=[0],b.ListItems.PageIdx=0,b.ListItems.Filter.NextId=null,j(function(a){l(a)})},b.CateClick=function(a){var c=b.SortOption.Items[2];c&&(b.ListItems.Filter.SortType=c.Id,b.SortOption.ActiveId=c.Id,b.SortType=c),b.ListItems.PageIds=[0],b.ListItems.PageIdx=0,b.ListItems.Filter.NextId=null,b.ListItems.Filter.Categories="",b.ListItems.Filter.Lat=0,b.ListItems.Filter.Lon=0,b.ListItems.Filter.RootCategoryId=a.Id,a.Id<=0?(b.ListItems.Filter.RootCategoryId=null,b.ListItems.Filter.Type=null,b.ListItems.Filter.MasterCategoryId=1):b.ListItems.Filter.MasterCategoryId=null,b.Cate.ActiveId=a.Id,b.Cate.Type=b.Cate.ActiveId==-1?2:1,b.IsShowMore?(b.LoadMoreText=a.Name,b.IsShowMore=!1,b.Cate.ActiveId=-10):b.LoadMoreText=Text.Viewmore,j(function(a){l(a)})},b.ViewMoreCateClick=function(){b.IsShowMore?b.IsShowMore=!1:b.IsShowMore=!0},b.SortClick=function(){b.ListItems.PageIds=[0],b.ListItems.PageIdx=0,b.ListItems.Filter.NextId=null,b.ListItems.Filter.Categories="",b.ListItems.Filter.Lat=0,b.ListItems.Filter.Lon=0,b.ListItems.Filter.SortType=b.SortType.Id,b.SortOption.ActiveId=b.SortType.Id,j(function(a){l(a)})},b.Init=function(a){b.Cate.CityId=a.CityId,b.ListItems.Filter.CityId=a.CityId;var c=window.RootCountryId;c!=null&&c!=42&&m(function(a){n(a,function(){var a=b.Cate.Items[0];a&&b.CateClick(a)})})}}"use strict",angular.module("FoodyApp").controller("DeliveryCtrl",a),a.$inject=["$http","$scope","$rootScope","$route","$routeParams","$location","$element","Helper"]})()
;(function(){function a(a,b,c,d,e,f,g,h,i,j){var k=this;k.$scope=b,b.IsLoaded=!1,b.IsShowMore=!1,b.LoadMoreText=Text.Viewmore,b.BrowsingIds=[],b.Cate={Items:[],IsLoading:!1,ActiveId:null,Type:1},b.SubCate={Items:[],IsLoading:!1,ActiveId:null},b.SortOption={Items:[],IsLoading:!1,ActiveId:null},b.ListItems={Items:[],IsLoading:!1,PageIds:[0],PageIdx:0,Filter:{Count:10,NextId:null,CategoryGroupId:1,SortType:10,Categories:"",CityId:null,Lat:0,Lon:0}},b.setupSupportLocation=function(a){b.$apply(function(){b.ListItems.Filter.Lat=a.coords.latitude,b.ListItems.Filter.Lon=a.coords.longitude}),$.cookie("_pos.coords",b.ListItems.Filter.Lat+"-"+b.ListItems.Filter.Lon,{path:"/"})},b.unsupportLocation=function(){b.ListItems.Filter.Lat=window.defaultLatgitude?defaultLatgitude:0,b.ListItems.Filter.Lon=window.defaultLongitude?defaultLongitude:0,alert("We cant detect your current location!"),location.reload()};var l=function(a,c){b.ListItems.IsLoading=!1;var d=[];if(!c||!c.delivery_infos)d=[];else{if(c.delivery_infos.length==0&&b.Cate.Type!=1&&!b.IsLoaded){var e=b.Cate.Items[0];e&&b.CateClick(e)}for(var f=0;f<c.delivery_infos.length;f++){var g=c.delivery_infos[f];g.fullUrl="/"+j.GetCityUrl(g.city_id)+"/"+g.url_rewrite_name,d.push(g)}}c=d,h.RunFnc(a,c)},m=function(a,c){b.ListItems.IsLoading=!1;if(!c||!c.promotion_infos)return;if(c.promotion_infos.length==0&&b.Cate.Type!=1&&!b.IsLoaded){var d=b.Cate.Items[0];d&&b.CateClick(d)}var e=[];for(var f=0;f<c.promotion_infos.length;f++){var g=c.promotion_infos[f].restaurant_info;g.promotion_title=c.promotion_infos[f].plain_title,g.fullUrl="/"+j.GetCityUrl(g.city_id)+"/"+g.url_rewrite_name,e.push(g)}c=e,h.RunFnc(a,c)},n=function(a){var c=b.ListItems.PageIdx*b.ListItems.Filter.Count;if(b.Cate.Type==1){var d="DeliveryBrowsingIds_s"+b.ListItems.Filter.SortType+"_mc"+b.ListItems.Filter.MasterCategoryId+"_c"+b.ListItems.Filter.RootCategoryId;if(b.BrowsingIds.length==0||b.BrowsingIds[0]["name"]!=d){b.BrowsingIds=[];var e=p();i.GetHomeBrowseIdsDelivery(e,function(e){var f={name:d,data:e.delivery_ids};b.BrowsingIds.push(f);var g=b.BrowsingIds[0].data.slice(c,c+b.ListItems.Filter.Count);o(g,a)})}else{var f=b.BrowsingIds[0].data.slice(c,c+b.ListItems.Filter.Count);o(f,a)}}else{var d="DeliveryDealBrowsingIds_s"+b.ListItems.Filter.SortType+"_mc"+b.ListItems.Filter.MasterCategoryId+"_c"+b.ListItems.Filter.RootCategoryId;if(b.BrowsingIds.length==0||b.BrowsingIds[0]["name"]!=d){b.BrowsingIds=[];var e=r();i.GetHomePromotionIdsDelivery(e,function(e){var f={name:d,data:e.promotion_ids};b.BrowsingIds.push(f);var g=b.BrowsingIds[0].data.slice(c,c+b.ListItems.Filter.Count);s(g,a)})}else{var f=b.BrowsingIds[0].data.slice(c,c+b.ListItems.Filter.Count);s(f,a)}}},o=function(a,b){var c=q(a);i.GetHomeBrowseInfoDelivery(c,function(a){l(b,a)})},p=function(){var a={};return a.sort_type=parseInt(b.ListItems.Filter.SortType),a.city_id=parseInt(b.ListItems.Filter.CityId),b.ListItems.Filter.MasterCategoryId!=null&&(a.foody_services=[],a.foody_services.push(parseInt(b.ListItems.Filter.MasterCategoryId))),b.ListItems.Filter.RootCategoryId!=null?a.root_category=parseInt(b.ListItems.Filter.RootCategoryId):a.promotion_status=1,b.ListItems.Filter.RootCategoryId!=null&&(b.ListItems.Filter.Arr.categories!==undefined&&b.ListItems.Filter.Arr.categories.length>0?(a.root_category_ids=[],a.combine_categories=[],angular.forEach(b.ListItems.Filter.Arr.categories,function(b,c){a.root_category_ids.push(parseInt(b.id)),a.combine_categories.push({code:1,id:parseInt(b.id)})})):(a.root_category_ids=[],a.root_category_ids.push(parseInt(b.ListItems.Filter.RootCategoryId)))),a},q=function(a){var c={};return c.delivery_ids=a,c.city_id=parseInt(b.ListItems.Filter.CityId),c.sort_type=parseInt(b.ListItems.Filter.SortType),b.ListItems.Filter.RootCategoryId!=null&&(c.root_category=parseInt(b.ListItems.Filter.RootCategoryId)),b.ListItems.Filter.RootCategoryId!=null&&(b.ListItems.Filter.Arr.categories!==undefined&&b.ListItems.Filter.Arr.categories.length>0?(c.root_category_ids=[],c.combine_categories=[],angular.forEach(b.ListItems.Filter.Arr.categories,function(a,b){c.root_category_ids.push(parseInt(a.id)),c.combine_categories.push({code:1,id:parseInt(a.id)})})):(c.root_category_ids=[],c.root_category_ids.push(parseInt(b.ListItems.Filter.RootCategoryId)))),b.ListItems.Filter.MasterCategoryId!=null&&(c.foody_service_id=parseInt(b.ListItems.Filter.MasterCategoryId)),c},r=function(){var a={};return b.ListItems.Filter.RootCategoryId==null?(a.promotion_status=1,a.sort_type=0):a.sort_type=parseInt(b.ListItems.Filter.SortType),a.city_id=parseInt(b.ListItems.Filter.CityId),b.ListItems.Filter.MasterCategoryId!=null&&(a.foody_service_id=parseInt(b.ListItems.Filter.MasterCategoryId)),b.ListItems.Filter.RootCategoryId!=null&&(b.ListItems.Filter.Arr.categories!==undefined&&b.ListItems.Filter.Arr.categories.length>0?(a.root_category_ids=[],a.combine_categories=[],angular.forEach(b.ListItems.Filter.Arr.categories,function(b,c){a.root_category_ids.push(parseInt(b.id)),a.combine_categories.push({code:1,id:parseInt(b.id)})})):(a.root_category_ids=[],a.root_category_ids.push(parseInt(b.ListItems.Filter.RootCategoryId)))),a},s=function(a,c){var d=t(a);if(d)if(d.promotion_ids.length>0)i.GetHomePromotionInfoDelivery(d,function(a){m(c,a)});else{var e=[];b.ListItems.IsLoading=!1,b.ListItems.Items=[],h.RunFnc(c,e)}},t=function(a){var c={};return c.promotion_ids=a,c.sort_type=parseInt(b.ListItems.Filter.SortType),c},u=function(a){if(b.ListItems.IsLoading)return;b.ListItems.IsLoading=!0,b.ListItems.Filter.SortType==3?navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(c){b.setupSupportLocation(c),n(a)},function(){b.unsupportLocation()}):n(a)},v=function(a,c){b.ListItems.Items=a,$.each(b.ListItems.Items,function(a,b){b.fullUrl=h.FormatNowUrl(province,b.url_rewrite_name)}),b.IsLoaded=!0,h.RunFnc(c)};b.ShowPrevPython=function(){return b.ListItems.PageIdx>0},b.ShowNextPython=function(){return b.ListItems.Items.length==10},b.ListNextPython=function(){b.ListItems.PageIdx++,u(function(a){v(a)})},b.ListPrevPython=function(){b.ListItems.PageIdx--,u(function(a){v(a)})},b.Init=function(a){b.Cate.CityId=a.CityId,b.ListItems.Filter.CityId=a.CityId;var c=window.RootCountryId;c!=null&&c!=42&&j.ListDeliveryCategory(function(a){w(a,function(){var a={id:-1};a&&b.CateClick(a)})})};var w=function(a,c){b.Cate.Items=a;var d={id:0,name:CategoryDeliText.AllCate};b.Cate.Items.unshift(d),j.ListDeliverySortType(function(a){b.SortOption.Items=a,h.RunFnc(c)})};b.BindCategoriesPython=function(a){var b="";if(a.promotion_title)return a.promotion_title;for(var c=0;c<a.categories.length;c++)b=b+(b!=""?", ":"")+a.categories[c];return b},b.IsActiveCate=function(a){return a==b.Cate.ActiveId},b.IsActiveSort=function(a){return a==b.SortOption.ActiveId},b.Filter=function(){b.ListItems.PageIds=[0],b.ListItems.PageIdx=0,b.ListItems.Filter.NextId=null,u(function(a){v(a)})},b.CateClick=function(a){var c=b.SortOption.Items[0];c&&(b.ListItems.Filter.SortType=c.id,b.SortOption.ActiveId=c.id,b.SortType=c),b.ListItems.PageIds=[0],b.ListItems.PageIdx=0,b.ListItems.Filter.NextId=null,b.ListItems.Filter.Categories="",b.ListItems.Filter.Lat=0,b.ListItems.Filter.Lon=0,b.ListItems.Filter.RootCategoryId=a.id,b.ListItems.Filter.Arr=a,a.id<=0?(b.ListItems.Filter.RootCategoryId=null,b.ListItems.Filter.Type=null,b.ListItems.Filter.MasterCategoryId=1):b.ListItems.Filter.MasterCategoryId=null,b.Cate.ActiveId=a.id,b.Cate.Type=b.Cate.ActiveId==-1?2:1,b.IsShowMore?(b.LoadMoreText=a.name,b.IsShowMore=!1):b.LoadMoreText=Text.Viewmore,u(function(a){v(a)})},b.ViewMoreCateClick=function(){b.IsShowMore?b.IsShowMore=!1:b.IsShowMore=!0},b.SortClick=function(){b.ListItems.PageIds=[0],b.ListItems.PageIdx=0,b.ListItems.Filter.NextId=null,b.ListItems.Filter.Categories="",b.ListItems.Filter.Lat=0,b.ListItems.Filter.Lon=0,b.ListItems.Filter.SortType=b.SortType.id,b.SortOption.ActiveId=b.SortType.id,u(function(a){v(a)})}}"use strict",angular.module("FoodyApp").controller("DeliveryPythonCtrl",a),a.$inject=["$http","$scope","$rootScope","$route","$routeParams","$location","$element","Helper","PythonDeliveryServices","PythonConfigService"]})()
;(function(){function a(a,b){function i(a,b){var c=CryptoJS.HmacSHA256(a,b),d=CryptoJS.enc.Base64.stringify(c);return c}var c=NowPythonSetting.ApiHost,d=NowPythonSetting.AuthenHost,e="2000",f=null,g=function(a,b,c){if(f!=null&&f!="")return j(a,b,c,f);w(function(d){return d!=null?(f=d.access_token,j(a,b,c,f)):null})},h=function(a,b,c){if(f!=null&&f!="")return k(a,b,c,f);w(function(d){return d!=null?(f=d.access_token,j(a,b,c,f)):null})},j=function(b,d,e,f){var g={method:"POST",url:c+b,headers:{"Content-Type":"application/json","X-Foody-App-Type":"1004","X-Foody-Api-Version":"1","X-Foody-Client-Type":"1","X-Foody-Client-Version":"1","X-Foody-Client-Id":"","X-Requested-With":undefined,"X-Foody-Access-Token":f},data:d};a(g).then(function(a){return a=a.data.reply,typeof e=="function"&&e(a),a}).catch(function(a){return console.log(a),typeof e=="function"&&e(null),null})},k=function(b,d,f,g){var h="POST",j=c+b,k=JSON.stringify(d),l=h+"|"+j+"|"+"2000,1,1,"+"|"+k,m=NowPythonSetting.SecrectKey,n="signature "+i(l,m),o={method:"POST",url:c+b,headers:{"Content-Type":"application/json","X-Foody-App-Type":e,"X-Foody-Api-Version":"1","X-Foody-Client-Type":"1","X-Foody-Client-Version":"1","X-Foody-Client-Id":"","X-Requested-With":undefined,"X-Foody-Access-Token":g,Authorization:n},data:d};a(o).then(function(a){return a=a.data.reply,typeof f=="function"&&f(a),a}).catch(function(a){return console.log(a),typeof f=="function"&&f(null),null})},l=function(a,b){if(f!=null&&f!="")return m(a,b,f);w(function(c){return c!=null?(f=c.access_token,m(a,b,f)):null})},m=function(b,d,e){var f={method:"GET",url:c+b,headers:{"Content-Type":"application/json","X-Foody-App-Type":"1004","X-Foody-Api-Version":"1","X-Foody-Client-Type":"1","X-Foody-Client-Version":"1","X-Foody-Client-Id":"","X-Requested-With":undefined,"X-Foody-Access-Token":e}};a(f).then(function(a){return a=a.data.reply,typeof d=="function"&&d(a),a}).catch(function(a){return console.log(a),null})},n=function(a,b){var c="api/delivery/get_browsing_ids";return j(c,a,b)},o=function(a,b){var c="api/delivery/get_infos";return j(c,a,b)},p=function(a,b){var c="api/delivery/get_related_ids?"+a;return m(c,b)},q=function(a,b){var c="api/delivery/get_browsing_infos";return j(c,a,b)},r=function(a,b){var c="api/promotion/get_ids";return j(c,a,b)},s=function(a,b){var c="api/promotion/get_infos";return j(c,a,b)},t=function(a){var b="api/meta/get_metadata";return m(b,a)},u=function(a,b){var c="api/delivery/get_detail?"+a;return window.CurrentUserToken?l(c,b):m(c,b)},v=function(a,b){var c="api/dish/get_delivery_dishes?"+a;return m(c,b)},w=function(b){var c="api/auth/exchange_foody_token",e={method:"POST",url:d+c,headers:{"Content-Type":"application/json","X-Foody-App-Type":"1004","X-Foody-Api-Version":"1","X-Foody-Client-Type":"1","X-Foody-Client-Version":"1","X-Foody-Client-Id":"","X-Requested-With":undefined,"X-Foody-Access-Token":undefined},data:{foody_user_token:window.CurrentUserToken}};a(e).then(function(a){return a.data.result=="success"?(a=a.data.reply,typeof b=="function"&&b(a),a):(typeof b=="function"&&b(null),null)}).catch(function(a){return console.log(a),typeof b=="function"&&b(null),null})},x=function(b){var c="api/auth/pre_confirm_password",e={method:"GET",url:d+c,headers:{"Content-Type":"application/json","X-Foody-App-Type":"1004","X-Foody-Api-Version":"1","X-Foody-Client-Type":"1","X-Foody-Client-Version":"1","X-Foody-Client-Id":"","X-Requested-With":undefined,"X-Foody-Access-Token":f}};a(e).then(function(a){return a=a.data.reply,typeof b=="function"&&b(a),a}).catch(function(a){return console.log(a),typeof b=="function"&&b(null),null})},y=function(b,c){var e="api/auth/confirm_password",g={method:"POST",url:d+e,headers:{"Content-Type":"application/json","X-Foody-App-Type":"1004","X-Foody-Api-Version":"1","X-Foody-Client-Type":"1","X-Foody-Client-Version":"1","X-Foody-Client-Id":"","X-Requested-With":undefined,"X-Foody-Access-Token":f},data:b};a(g).then(function(a){return a=a.data.reply,typeof c=="function"&&c(a),a}).catch(function(a){return console.log(a),typeof c=="function"&&c(null),null})},z=function(a,b){var c="api/cart/create_group";return g(c,a,b)},A=function(a,b){var c="api/cart/set_group_items";return g(c,a,b)},B=function(a,b){var c="api/cart/edit_dish";return g(c,a,b)},C=function(a,b){var c="api/cart/draft";return g(c,a,b)},D=function(a,b){var c="api/cart/check_draft_group";return g(c,a,b)},E=function(a,b){var c="api/order/submit";return h(c,a,b)},F=function(a,b){var c="api/cart/set_items";return g(c,a,b)},G=function(a,b){var c="api/cart/reset_order";return g(c,a,b)},H=function(a,b){var c="api/cart/reset_group_order_items";return g(c,a,b)},I=function(a,b){var c="api/delivery/get_suggest_addresses";return l(c,b)},J=function(a){var b="api/user/get_profile";return l(b,a)},K=function(a,b){var c="api/invoice/get_address?"+a;return l(c,b)},L=function(a,b){var c="api/cart/join_group";return g(c,a,b)},M=function(a,b){var c="api/cart/mark_done";return g(c,a,b)},N=function(a,b){var c="api/cart/force_member_done";return g(c,a,b)},O=function(a,b){var c="api/cart/delete_user_order_from_group";return g(c,a,b)},P=function(a,b){var c="api/cart/calculate_shipping";return h(c,a,b)},Q=function(a,b){var c="api/invoice/create_address";return g(c,a,b)},R=function(a,b){var c="api/delivery/get_ids_of_prefer_merchant";return j(c,a,b)},S=function(a,b){var c="api/delivery/get_infos_of_prefer_merchant";return j(c,a,b)},T=function(a,b){var c="api/collection/get_ids?city_id="+a.city_id+"&foody_service_id="+a.foody_service_id+"&visibility="+a.visibility;return a.root_category&&a.root_category!=undefined&&(c=c+"&root_category="+a.root_category),m(c,b)},U=function(a,b){var c="api/collection/get_infos";return j(c,a,b)},V=function(a,b){var c="api/collection/get_delivery_ids?id="+a.id;return m(c,b)},W=function(a,b){var c="api/delivery/get_global_delivery_system_alert?"+a;return m(c,b)},X=function(a,b){var c="api/collection/get_delivery_restaurant_infos";return j(c,a,b)},Y=function(a,b){var c="api/order/get_recent_ids?"+a;return l(c,b)},Z=function(a,b){var c="api/order/get_recents";return g(c,a,b)},$=function(a,b){var c="api/order/get_single_group_detail?"+a;return l(c,b)},_=function(a,b){var c="api/order/get_infos_by_user_order_status_ids";return g(c,a,b)},ba=function(a,b){var c="api/order/get_infos_by_user_order_status";return g(c,a,b)},bb=function(a,b){var c="api/order/cancel";return g(c,a,b)},bc=function(a,b){var c="api/order/delete";return g(c,a,b)},bd=function(a,b){var c="api/delivery/get_ids_of_brand?brand_id="+a.brand_id+"&city_id="+a.city_id;return m(c,b)},be=function(a,b){var c="api/delivery/get_infos_of_brand";return j(c,a,b)},bf={FuncPost:j,FuncGet:m,FuncGetWithToken:l,FuncPostWithToken:g,GetHomeBrowseIdsDelivery:n,GetHomeBrowseInfoDelivery:q,GetHomePromotionIdsDelivery:r,GetHomePromotionInfoDelivery:s,GetMetaDataDelivery:t,GetDetailDelivery:u,GetDetailDishDelivery:v,ExchangeFoodyToken:w,GetDraftOrderDelivery:C,GetDraftOrderGroupDelivery:D,InsertCardItemSingle:F,ClearCardSingle:G,ClearCardGroup:H,GetSuggestAddresses:I,GetInvoiceAddresses:K,CalculateShipping:P,CreateOrderGroupDelivery:z,InsertCardItemGroup:A,EditCardItemGroup:B,GetPreferMerchantIdsDelivery:R,GetPreferMerchantInfoDelivery:S,GetCollectionIdsDelivery:T,GetCollectionInfoDelivery:U,GetDeliveryIdsOfCollection:V,GetCollectionDeliveryInfoByDeliveryIds:X,GetRecentOrderIds:Y,GetRecentOrderInfo:Z,GetOrderDetails:$,GetOrderIdsByUserRestaurantStatus:_,GetInfosByUserRestaurantStatus:ba,CancelOrder:bb,DeleteOrder:bc,GetIdsOfBrand:bd,CreateInvoiceAddress:Q,GetProfileDelivery:J,JoinGroupDelivery:L,MemberGroupMarkDoneDelivery:M,ForceMemberDoneMarkDoneDelivery:N,DeleteUserOrderFromGroupDelivery:O,DeliveryOrderSubmit:E,GetGlobalDeliverySystemAlert:W,GetInfosOfBrand:be,GetRelatedIds:p,GetInfoDelivery:o,PreConfirmPassword:x,ConfirmPassword:y};return bf}"use strict",angular.module("FoodyApp").factory("PythonDeliveryServices",a),a.$inject=["$http","Helper"]})()
;(function(){function a(a,b,c,d){var e=null,f=function(a){e==null?d.GetMetaDataDelivery(function(d){b.MetaDataDelivery=d,e=d,c.RunFnc(a,e)}):c.RunFnc(a,e)},g=function(a){f(function(b){var d={};for(var e=0;e<b.country.now_services.length;e++)if(b.country.now_services[e]["code"]=="deliverynow"){d=b.country.now_services[e].categories;break}c.RunFnc(a,d)})},h=function(a){f(function(b){var d={};b.country.delivery_sort_options&&(d=b.country.delivery_sort_options),c.RunFnc(a,d)})},i=function(a){if(e.country.cities.length>0)for(var b=0;b<e.country.cities.length;b++)if(e.country.cities[b].id==a)return e.country.cities[b].url_rewrite_name},j=function(a){f(function(b){var d=[];b.country.cancel_options.length>0&&(d=b.country.cancel_options),c.RunFnc(a,d)})},k=function(a){f(function(b){var d=[];b&&b.services!==undefined&&b.services.paynow.length>0&&(d=b.services.paynow),c.RunFnc(a,d)})},l=function(a,b){var d={};if(e.country!==undefined&&e.country.cities.length>0)for(var f=0;f<e.country.cities.length;f++)e.country.cities[f].id==a&&(d=e.country.cities[f].services.hand_delivered);c.RunFnc(b,d)},m=function(a,b){var d=null;if(e.country!==undefined&&e.country.cities.length>0)for(var f=0;f<e.country.cities.length;f++)e.country.cities[f].id==a&&(d=e.country.cities[f].services.delivery_service);c.RunFnc(b,d)},n=function(a){var b=e.services.delivery_service;c.RunFnc(a,b)},o={FuncGetInitData:f,ListDeliveryCategory:g,ListDeliverySortType:h,GetCityUrl:i,ListDeliveryPaymentMethod:k,GetHandDeliveryByCityMethod:l,GetServiceDeliveryByCityMethod:m,ListCancelOption:j,GetServiceDeliveryByCountryMethod:n};return o}"use strict",angular.module("FoodyApp").factory("PythonConfigService",a),a.$inject=["$http","$rootScope","Helper","PythonDeliveryServices"]})()
;var GetBrowsingIdParam={sort_type:1,city_id:217,foody_services:[]},GetBrowsingInfoParam={delivery_ids:[],city_id:217},EnumVisibility={all:1,"public":2},GetPreferMerchantIdParam={city_id:217,foody_service_id:1,visibility:2},GetPreferMerchantInfoParam={city_id:217,deliveries:[]},EnumClientOrderStatus={RECEIVED:1,PROCESSING:2,VERIFIED:3,ASSIGNED:4,PICKED:5,CAN_T_CONNECT:6,DELIVERED:7,CANCELLED:8,DRAFT:9}
;var CategoryDeliText={AllCate:"Tt c"},BrandPrefixText={BrandPrefix:"thuong-hieu",BrandPrefixEn:"brand",BrandDeliveryPrefix:"thuong-hieu-delivery",BrandDeliveryEnPrefix:"brand-delivery"},DeliveryPrefixText={DeliveryPrefix:"goi-mon",DeliveryPrefixEn:"delivery"},CollectionDeliveryPrefixText={CollectionDeliveryPrefix:"bo-suu-tap-delivery",CollectionDeliveryPrefixEn:"delivery-collection"}
;(function(){function a(a,b,c,d,e,f){function h(b,d){b!=1,c.IsLoadingPre=!0;var f="/__get/Video/HomeVideo";f+=e.GetParamRnd(f),f+="&"+e.GetUrlParams({count:12,type:c.Type,cateId:c.CateId,cityId:c.CityId}),a.get(f).then(function(a){a=a.data;if(!a){c.IsLoadingPre=!1;return}c.Group=a.Groups[0],d(a)}).catch(function(a){a=a.data,e.Log(a),c.IsLoadingPre=!1})}function i(a,b,d){a==1&&(c.Groups=[]),c.$parent.IsFirstLoad=!1,c.CateId=b.CateId,c.CityId=b.CityId;for(var f=0;f<b.Groups.length;f++)c.Groups.push(b.Groups[f]);c.DefaultTotal=c.Groups[0].Items.length,c.ExcludeIds=c.Groups[0].ExcludeIds,e.RunFnc(d,b)}function j(b,d){c.IsLoading=!0;var f="/__get/Video/HomeVideoGroup";c.IsFirstLoadMore||b.Count%3!=0&&(b.Count=b.Count+3-b.Count%3),f+=e.GetParamRnd(f),f+="&"+e.GetUrlParams({count:b.Count,lastId:b.LastId,groupId:b.Id,cateId:c.CateId,cityId:c.CityId,type:c.Type,excludeIds:c.ExcludeIds}),a.get(f).then(function(a){a=a.data;if(!a){c.IsLoading=!1;return}c.IsFirstLoadMore=!1,d(a)}).catch(function(a){a=a.data,e.Log(a),c.IsLoading=!1})}function k(a,b,d){a.Count=b.Count,a.LastId=b.LastId,a.Total=b.Total;for(var f=0;f<b.Items.length;f++)a.Items.push(b.Items[f]);c.LoadMoreTotal=b.Total,e.RunFnc(d,b)}var g=this;g.$scope=c,c.MenuId=d.MenuId?d.MenuId:1,c.Type=d.type?d.type:1,c.CateId=null,c.CityId=null,c.IsFirstLoadMore=!0,c.Groups=[],c.Group={},c.LoadMoreCount=0,c.DefaultTotal=0,c.LoadMoreTotal=0,c.LoadMoreFirst=!0,c.ExcludeIds="",c.IsLoading=!1,c.IsLoadingPre=!1,c.PreloadList=[1,2,3,4,5,6],c.IsLoadMore=function(a){return a.Total-a.Items.length>0},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){e.ScrollShowTop(a,-b)},500)},c.Init=function(a){if(!a)return;c.ChangeType(a.Type)},c.LoadDataType=function(a,b){if(c.IsLoading==1)return;c.IsLoadingPre=!0,h(a,function(d){i(a,d,function(){c.IsLoadingPre=!1,e.RunFnc(b),c.LoadMoreByGroup(c.Group),c.LoadMoreFirst=!1})})},c.LoadMoreByGroup=function(a,b){c.LoadMoreCount>=5?f.Show(function(d){d.LoggedIn&&c.LoadData(a,b)}):c.LoadData(a,b)},c.LoadData=function(a,b){if(c.IsLoading==1)return;c.IsLoading=!0,j(a,function(d){k(a,d,function(){c.IsLoading=!1,e.RunFnc(b)})})},c.Filter=function(){c.LoadDataType(!0)},c.ChangeType=function(a){c.Type=a,c.LoadDataType(!0)},c.LoadDataType(!0),b.$broadcast("main.cate",{MenuId:c.MenuId}),c.$on("main.scroll",function(a,b){c.IsLoading==0&&(c.LoadMoreFirst?(c.LoadMoreByGroup(c.Group),c.LoadMoreFirst=!1):c.DefaultTotal+c.LoadMoreTotal>c.Group.Items.length&&c.LoadMoreCount<5&&(c.LoadMoreByGroup(c.Group),c.LoadMoreCount++))}),c.ClickGA=function(a,b){window.ga&&a.IsAds&&ga("ads.send","event",b,"Click",a.Title)},c.ImpressionGa=function(a,b){window.ga&&a.IsAds&&ga("ads.send","event",b,"Impression",a.Title)}}"use strict",angular.module("FoodyApp").controller("VideoCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","Helper","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f){function h(b,d){var f=(new Date).getTime(),g="/__post/Review/HomeLoadMore",h=(g?g.indexOf("?")>-1?"&":"?":"")+"t="+f;b==1&&(c.LastId=null,c.Count=10),a.post(g+h,{LastId:c.LastId,Count:c.Count,Type:c.Filter.Type}).then(function(a){a=a.data,e.RunFnc(d,a)}).catch(function(){e.RunFnc(d)})}function i(a,b,d){a==1&&(c.Items=[],c.LoadMoreCount=0),c.$parent.IsFirstLoad=!1,c.Count=b.Count,c.LastId=b.LastId,c.Total=b.Total;var f=b.Items;for(var g=0;g<f.length;g++){var h=f[g];h.UrlLoad=c.UrlImgBg,c.Items.push(h)}e.RunFnc(d,b)}function j(){var a=g.ListLazyPics,b=$(window).scrollTop();for(var d=0;d<a.length;d++){var e=a[d].ele.offset();e.top<b+500&&(a[d].$scope.ShowLazyPic(),c.$$phase||c.$apply(),a.splice(d,1))}}var g=this;c.MenuId=d.MenuId?d.MenuId:1,g.ListLazyPics=[],g.$scope=c,c.Count=10,c.LastId=null,c.Total=0,c.Items=[],c.Model={},c.Filter={Type:"1"},c.PreloadList=[1,2],c.LoadMoreCount=0,c.IsLoading=!1,c.IsLoadMore=function(){return c.Total-c.Items.length>0},c.AddLazyLoadPic=function(a){g.ListLazyPics.push(a)},c.Init=function(a){a=window[a];if(!a)return;c.Count=a.Count?a.Count:10,c.LastId=a.LastId,c.Total=a.Total,c.UrlImgBg=a.UrlImgBg;var b=a.Items;if(b)for(var d=0;d<b.length;d++){var e=b[d];e.UrlLoad=c.UrlImgBg,c.Items.push(e)}else c.LoadMore(!0);$(window).scroll(function(){g._timeOut&&clearTimeout(g._timeOut),g._timeOut=setTimeout(j,100)})},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){e.ScrollShowTop(a,-b)},500)},c.ChangeType=function(a){c.Filter.Type=a,c.Items=[],c.LoadMore(!0)},c.LoadMore=function(a,b){c.LoadMoreCount>=5?f.Show(function(d){d.LoggedIn&&c.LoadData(a,b)}):c.LoadData(a,b)},c.LoadData=function(a,b){if(c.IsLoading==1)return;c.IsLoading=!0,h(a,function(d){i(a,d,function(){setTimeout(j,1e3),c.IsLoading=!1,a!=1,e.RunFnc(b)})})},c.LoadMore(!0),b.$broadcast("main.cate",{MenuId:c.MenuId}),c.$on("main.scroll",function(a,b){c.IsLoading==0&&c.LoadMoreCount<5&&c.IsLoadMore()==1&&c.LoadMore(!1,function(){c.LoadMoreCount++})})}"use strict",angular.module("FoodyApp").controller("HomeReviewCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","Helper","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f,g,h,i){function k(b,d){b==1&&(c.Count=12,c.LastId=null),c.IsLoading=!0;var e="/__get/MemberCard/HomeLoadMore";e+=f.GetParamRnd(e),c.IsReputation=c.IsReputation===!1?"":c.IsReputation,e+="&"+f.GetUrlParams({count:c.Count,lastId:c.LastId,sortType:c.SortType,cityId:c.CityId}),a.get(e).then(function(a){a=a.data;if(!a){c.IsLoading=!1;return}d(a)}).catch(function(a){a=a.data,f.Log(a),c.IsLoading=!1})}function l(a,b,d){a==1&&(c.Items=[]),c.$parent.IsFirstLoad=!1,c.Count=b.Count,c.LastId=b.LastId,c.CityId=b.CityId,c.Total=b.Total;for(var e=0;e<b.Items.length;e++)c.Items.push(b.Items[e]);f.RunFnc(d,b)}var j=this;j.$scope=c,c.MenuId=d.MenuId?d.MenuId:1,c.SortType=1,c.Count=12,c.LastId=null,c.Total=0,c.LoadMoreCount=0,c.CityId="",c.Items=[],c.PreloadList=[1,2,3,4,5,6],c.IsLoading=!1,c.IsLoadMore=function(){return c.Total-c.Items.length>0},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){f.ScrollShowTop(a,-b)},500)},c.Init=function(a){if(!a)return;c.ChangeType(a.Type)},c.LoadMore=function(a,b){c.LoadMoreCount>=5?i.Show(function(d){d.LoggedIn&&c.LoadData(a,b)}):c.LoadData(a,b)},c.LoadData=function(a,b){if(c.IsLoading===!0)return;c.IsLoading=!0,k(a,function(d){l(a,d,function(){c.IsLoading=!1,f.RunFnc(b)})})},c.Filter=function(){c.LoadMore(!0)},c.ChangeType=function(a){c.SortType=a,c.Items=[],c.LoadMore(!0)},c.ShowCondition=function(a){a.Note!=null?e.Show({Content:a.Note}):e.Show({Content:ECardText.NoConditionsApply})},c.LoadMore(!0),b.$broadcast("main.cate",{MenuId:c.MenuId}),c.$on("main.scroll",function(a,b){c.IsLoading===!1&&c.IsLoadMore()===!0&&c.LoadMoreCount<5&&(c.LoadMore(),c.LoadMoreCount++)}),c.ShowPopupGallery=function(a){g.Show(a)},c.ShowPopupReviews=function(a){h.Show(a)}}"use strict",angular.module("FoodyApp").controller("HomeECardCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","DlgCommon","Helper","DlgGallery","DlgReviews","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f,g,h,i){function k(b,d){b==1&&(c.Count=12,c.LastId=null),c.IsLoading=!0;var e="/__get/BankCard/LoadMoreResBankCard";e+=f.GetParamRnd(e),c.IsReputation=c.IsReputation==0?"":c.IsReputation,e+="&"+f.GetUrlParams({bankId:c.Bank!=null?c.Bank.Id:null,resName:c.ResName,count:12,lastId:c.LastId}),a.get(e).then(function(a){a=a.data;if(!a){c.IsLoading=!1;return}d(a)}).catch(function(a){a=a.data,f.Log(a),c.IsLoading=!1})}function l(a,b,d){a==1&&(c.Items=[]),c.$parent.IsFirstLoad=!1,c.Count=12,c.LastId=b.lastId,c.Total=b.total;for(var e=0;e<b.items.length;e++)b.items[e].BankName=b.items[e].ListDiscounts[0].BankName,b.items[e].Discount=b.items[e].ListDiscounts[0].Discount+"%",b.items[e].Policy=b.items[e].ListDiscounts[0].Policy,c.Items.push(b.items[e]);f.RunFnc(d,b)}var j=this;j.$scope=c,c.MenuId=d.MenuId?d.MenuId:1,c.Count=12,c.LastId=null,c.Total=0,c.LoadMoreCount=0,c.Items=[],c.ListBank=[],c.PreloadList=[1,2,3,4,5,6],c.ResName="",c.IsLoading=!1,c.Bank=null,c.IsLoadMore=function(){return c.Total-c.Items.length>0},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){f.ScrollShowTop(a,-b)},500)},a.get("/__get/BankCard/GetListBank").then(function(a){a=a.data,c.ListBank=a.data}).catch(function(a){a=a.data,f.Log(a)}),c.LoadMore=function(a,b){c.LoadMoreCount>=5?i.Show(function(d){d.LoggedIn&&c.LoadData(a,b)}):c.LoadData(a,b)},c.LoadData=function(a,b){if(c.IsLoading==1)return;c.IsLoading=!0,k(a,function(d){l(a,d.data,function(){c.IsLoading=!1,f.RunFnc(b)})})},c.LoadMore(!0),b.$broadcast("main.cate",{MenuId:c.MenuId}),c.ShowPopupGallery=function(a){g.Show(a)},c.ShowPopupReviews=function(a){h.Show(a)},document.getElementById("txtResName").onkeyup=function(a){m(function(){c.LoadMore(!0)},300)};var m=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}();c.$on("main.scroll",function(a,b){c.IsLoading==0&&c.IsLoadMore()==1&&c.LoadMoreCount<5&&(c.LoadMore(!1),c.LoadMoreCount++)})}"use strict",angular.module("FoodyApp").controller("HomeBankCardCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","DlgCommon","Helper","DlgGallery","DlgReviews","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f,g,h,i){function k(b,d){b==1&&(c.NextItemId=0),c.IsLoading=!0;var e="/__get/Promotion/HomeLoadMore";e+=f.GetParamRnd(e),e+="&"+f.GetUrlParams({locationId:c.LocationId,categoryId:c.CateId,nextItemId:c.NextItemId,pageSize:c.PageSize,getType:c.GetType}),a.get(e).then(function(a){a=a.data;if(!a){c.IsLoading=!1;return}d(a)}).catch(function(a){a=a.data,f.Log(a),c.IsLoading=!1})}function l(a,b,d){a==1&&(c.Items=[]),c.$parent.IsFirstLoad=!1,c.NextItemId=b.NextItemId,c.LocationId=b.LocationId,c.CategoryId=b.CategoryId,a==1&&(c.Total=b.TotalCount+b.Items.length);for(var e=0;e<b.Items.length;e++)c.Items.push(b.Items[e]);c.GetType==1&&c.Items.length==0&&(c.HideFeatured=!0,c.GetType=2,c.IsLoading=!1,c.LoadData(!0)),f.RunFnc(d,b)}function m(){c.$$phase||c.$apply()}var j=this;j.$scope=c,c.MenuId=d.MenuId?d.MenuId:1,c.GetType=1,c.PageSize=12,c.NextItemId=0,c.Total=0,c.LocationId=0,c.LoadMoreCount=0,c.CateId=0,c.Items=[],c.PreloadList=[1,2,3,4,5,6],c.IsLoading=!1,c.HideFeatured=!1,c.IsLoadMore=function(){return c.Total-c.Items.length>0},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){f.ScrollShowTop(a,-b)},500)},c.Init=function(){},c.LoadMore=function(a,b){c.LoadMoreCount>=5?i.Show(function(d){d.LoggedIn&&c.LoadData(a,b)}):c.LoadData(a,b)},c.LoadData=function(a,b){if(c.IsLoading==1)return;c.IsLoading=!0,k(a,function(d){l(a,d,function(){c.IsLoading=!1,console.log(c.IsLoading),f.RunFnc(b)})})},c.ChangeGetType=function(a){c.GetType=a,c.Items=[],c.LoadMore(!0)},c.ChangeGetType(1),b.$broadcast("main.cate",{MenuId:c.MenuId}),c.$on("main.scroll",function(a,b){c.IsLoading==0&&c.IsLoadMore()==1&&c.LoadMoreCount<5&&(c.LoadMore(),c.LoadMoreCount++)}),c.ShowPopupGallery=function(a){g.Show(a)},c.ShowPopupReviews=function(a){h.Show(a)}}"use strict",angular.module("FoodyApp").controller("HomePromotionCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","DlgCommon","Helper","DlgGallery","DlgReviews","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f,g,h){function j(b,c){b==1&&(e.Count=12,e.LastId=null),e.IsLoading=!0;var d="/__get/Article/LoadMore";d+=g.GetParamRnd(d),d+="&"+g.GetUrlParams({count:e.Count,lastId:e.LastId,cateId:e.CateId,sortType:e.SortType,cityId:e.CityId,excludeIds:e.ExcludeIds,featuredCount:12,articleCategoryId:e.SubCateId}),a.get(d).then(function(a){a=a.data;if(!a){e.IsLoading=!1;return}c(a)}).catch(function(a){a=a.data,g.Log(a),e.IsLoading=!1})}function k(a,b,c){a==1&&(e.Items=[]),e.$parent.IsFirstLoad=!1,e.Count=b.Count,e.LastId=b.LastId,e.CityId=b.CityId,e.ExcludeIds=b.ExcludeIds,e.Total=b.Total;for(var d=0;d<b.Items.length;d++)e.Items.push(b.Items[d]);e.CateId==0&&e.Items.length>0?e.HasFeatured=1:e.CateId==0&&e.Items.length==0&&(e.HasFeatured=0,e.CateId=e.ListCate[0]!=undefined?e.ListCate[0].Id:0,e.ChangeCateId(e.CateId,!1)),b.Items.length==0&&(e.HasNoItem=!0),g.RunFnc(c,b)}function l(b,c){e.IsLoading=!0;var d="/__get/ViewTemplate/BindSubArticleDirectory";d+=g.GetParamRnd(d),d+="&"+g.GetUrlParams({articleCategoryId:b}),a.get(d).then(function(a){a=a.data,a.result?(a.result.length>0&&(e.IsLoading=!1),e.ListSubCategory=a.result):e.ListSubCategory=[],g.RunFnc(c,e.ListSubCategory)}).catch(function(a){a=a.data,g.Log(a),e.IsLoading=!1,e.ListSubCategory=[],g.RunFnc(c,e.ListSubCategory)})}var i=this;e.ListCate=window.initCate,e.MenuId=f.MenuId?f.MenuId:1,e.Cate=f.cate?f.cate:"food",e.CateId=1,e.SubCateId=null,e.SortType="2",e.Count=12,e.HasFeatured=0,e.LastId=null,e.CityId=null,e.ExcludeIds=null,e.Total=0,e.Items=[],e.PreloadList=[1,2,3,4,5,6],e.LoadMoreCount=0,e.IsLoading=!1,e.ListSubCategory=[],e.IsLoadMore=function(){return e.Total-e.Items.length>0},e.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){g.ScrollShowTop(a,-b)},500)},e.Init=function(a){if(!a)return;e.HasNoItem=!1,e.CateId=a.CateId,e.Filter()},e.LoadMore=function(a,b){e.LoadMoreCount>=5?h.Show(function(c){c.LoggedIn&&e.LoadData(a,b)}):e.LoadData(a,b)},e.LoadData=function(a,b){e.IsLoading=!0,j(a,function(c){k(a,c,function(){e.IsLoading=!1,g.RunFnc(b)})})},e.Filter=function(){e.ChangeCateId(e.CateId,!0)},e.ChangeCateId=function(a,b){a===0?(e.Items=[],e.CateId=a,e.SubCateId=null,e.ListSubCategory=[],e.LoadMore(!0)):l(a,function(c){e.CateId=a,e.Items=[],b||(e.SubCateId=null),e.LoadMore(!0)})},e.ChangeSubCateId=function(a){e.SubCateId=a,e.Items=[],e.LoadMore(!0)},b.$broadcast("main.cate",{MenuId:e.MenuId}),e.$on("main.scroll",function(a,b){e.IsLoading==0&&e.IsLoadMore()==1&&e.CateId!=0&&e.LoadMoreCount<5&&(e.LoadMore(),e.LoadMoreCount++)}),e.ClickGA=function(a,b){window.ga&&a.IsAds&&ga("ads.send","event",b,"Click",a.Title)},e.ImpressionGa=function(a,b){window.ga&&a.IsAds&&ga("ads.send","event",b,"Impression",a.Title)};var m=d.current;e.$on("$routeChangeSuccess",function(a){d.current=m})}"use strict",angular.module("FoodyApp").controller("HomeArticleCtrl",a),a.$inject=["$http","$rootScope","$location","$route","$scope","$routeParams","Helper","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f){function h(b,d){b==1&&(c.Count=12,c.LastId=null,c.ExcludeIds=null,c.LoadMoreCount=0),c.IsLoading=!0;var f="/__get/Gallery/HomePhoto";f+=e.GetParamRnd(f),c.IsReputation=c.IsReputation==0?"":c.IsReputation,f+="&"+e.GetUrlParams({count:c.Count,lastId:c.LastId,type:c.Type,cityId:c.CityId,cateGroupId:c.CateGroupId,excludeIds:c.ExcludeIds}),a.get(f).then(function(a){a=a.data;if(!a){c.IsLoading=!1;return}d(a)}).catch(function(a){a=a.data,e.Log(a),c.IsLoading=!1})}function i(a,b,d){a==1&&(c.Items=[],c.LoadMoreCount=0),c.$parent.IsFirstLoad=!1,c.Count=b.Count,c.LastId=b.LastId,c.Total=b.Total,c.CityId=b.CityId,c.CateGroupId=b.CateGroupId,c.ExcludeIds=b.ExcludeIds;for(var f=0;f<b.Items.length;f++)c.Items.push(b.Items[f]);e.RunFnc(d,b)}var g=this;g.$scope=c,c.MenuId=d.MenuId?d.MenuId:1,c.Type=d.type?d.type:1,c.Count=12,c.LastId=null,c.Total=0,c.LoadMoreCount=0,c.Items=[],c.PreloadList=[1,2,3,4,5,6],c.IsLoading=!1,c.IsLoadMore=function(){return c.Total-c.Items.length>0},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){e.ScrollShowTop(a,-b)},500)},c.Init=function(a){if(!a)return;c.ChangeType(a.Type)},c.LoadMore=function(a,b){c.LoadMoreCount>=5?f.Show(function(d){d.LoggedIn&&c.LoadData(a,b)}):c.LoadData(a,b)},c.LoadData=function(a,b){if(c.IsLoading==1)return;c.IsLoading=!0,h(a,function(d){i(a,d,function(){c.IsLoading=!1,e.RunFnc(b)})})},c.Filter=function(){c.LoadMore(!0)},c.ChangeType=function(a){c.Type=a,c.Items=[],c.LoadMore(!0)},c.LoadMore(!0),b.$broadcast("main.cate",{MenuId:c.MenuId}),c.$on("main.scroll",function(a,b){c.IsLoading==0&&c.LoadMoreCount<5&&c.IsLoadMore()==1&&c.LoadMore(!1,function(){c.LoadMoreCount++})}),c.ClickGA=function(a,b,c){window.ga&&a.IsAds&&(c+1)%2==0&&ga("ads.send","event",b+(c+1),"Click",a.ResName)},c.ImpressionGa=function(a,b,c){window.ga&&a.IsAds&&(c+1)%2==0&&ga("ads.send","event",b+(c+1),"Impression",a.ResName)},c.ClearCache=function(){if(!confirm("Are you sure want to clear cache?"))return;$.post("/Gallery/ClearCacheHomePhoto",{},function(a){a==1?window.location.reload():alert("can not clear cache now!")}).error(function(a){alert("server error!")})},c.HideToggle=function(a){$.post("/Gallery/HideHomePhoto",{ResPicId:a},function(b){$('.content-item a[data-item="'+a+'"].btn-cmd.btn-hide').toggle(),$('.content-item a[data-item="'+a+'"].btn-cmd.btn-show').toggle()})}}"use strict",angular.module("FoodyApp").controller("PhotoCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","Helper","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f){function h(b,d){b==1&&(c.Count=12,c.LastId=null,c.ExcludeIds=""),c.IsLoading=!0;var f="/__get/List/HomeList";f+=e.GetParamRnd(f),f+="&"+e.GetUrlParams({count:c.Count,lastId:c.LastId,type:c.Type,cityId:c.CityId,excludeIds:c.ExcludeIds}),a.get(f).then(function(a){a=a.data;if(!a){c.IsLoading=!1;return}d(a)}).catch(function(a){a=a.data,e.Log(a),c.IsLoading=!1})}function i(a,b,d){a==1&&(c.Items=[]),c.$parent.IsFirstLoad=!1,c.Count=b.Count,c.LastId=b.LastId,c.CityId=b.CityId,c.ExcludeIds=b.ExcludeIds,c.Total=b.Total;for(var f=0;f<b.Items.length;f++)c.Items.push(b.Items[f]);e.RunFnc(d,b)}var g=this;g.$scope=c,c.MenuId=d.MenuId?d.MenuId:1,c.Type=d.type?d.type:2,c.CityId="",c.ExcludeIds="",c.Count=12,c.LastId=null,c.Total=0,c.LoadMoreCount=0,c.Items=[],c.PreloadList=[1,2,3,4,5,6],c.IsLoading=!1,c.IsLoadMore=function(){return c.Total-c.Items.length>0},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){e.ScrollShowTop(a,-b)},500)},c.Init=function(a){if(!a)return;c.ChangeType(a.Type)},c.LoadMore=function(a,b){c.LoadMoreCount>=5?f.Show(function(d){d.LoggedIn&&c.LoadData(a,b)}):c.LoadData(a,b)},c.LoadData=function(a,b){if(c.IsLoading==1)return;c.IsLoading=!0,h(a,function(d){i(a,d,function(){c.IsLoading=!1,e.RunFnc(b)})})},c.Filter=function(){c.LoadMore(!0)},c.ChangeType=function(a){c.Type=a,c.Items=[],c.LoadMore(!0)},c.LoadMore(!0),b.$broadcast("main.cate",{MenuId:c.MenuId}),c.$on("main.scroll",function(a,b){c.LoadMoreCount<5&&c.IsLoading==0&&(c.LoadMore(),c.LoadMoreCount++)}),c.ClickGA=function(a,b){window.ga&&a.IsAds&&ga("ads.send","event",b,"Click",a.Title)},c.ImpressionGa=function(a,b){window.ga&&a.IsAds&&ga("ads.send","event",b,"Impression",a.Title)}}"use strict",angular.module("FoodyApp").controller("WishListCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","Helper","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f,g,h,i){var j=this;j.$scope=c,c.MenuId=d.MenuId?d.MenuId:1,c.LstDealCountDownCalled=[],c.PreloadList=[1,2,3,4,5,6],c.IsHideDealTab=!1,c.IsHideFeaturedTab=!1,c.DistrictId="",c.CateId="",c.IsReputation="",c.CuisineId="",c.NoLoadMore=!1,c.Count=12,c.LastId=null,c.Total=0,c.TotalDeals=0,c.LoadMoreCount=0,c.Page=0,c.Items=[],c.IsLoading=!1,c.IsLoadMore=function(){return c.Total-c.Items.length>0},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){f.ScrollShowTop(a,-b)},500)},c.setupSupportLocation=function(a){c.$apply(function(){c.Lat=a.coords.latitude,c.Lon=a.coords.longitude}),$.cookie("_pos.coords",c.Lat+"-"+c.Lon,{path:"/"})},c.unsupportLocation=function(){c.Lat=window.defaultLatgitude?defaultLatgitude:0,c.Lon=window.defaultLongitude?defaultLongitude:0,alert("We cant detect your current location!"),location.reload()},c.getData=function(b,d){b==1&&(c.Count=12,c.LastId=null,c.ExcludeIds=null,c.Page=0,c.Lat=window.defaultLatgitude?defaultLatgitude:0,c.Lon=window.defaultLongitude?defaultLongitude:0),c.IsLoading=!0;var e="/__get/Place/HomeListPlace";e+=f.GetParamRnd(e),c.IsReputation=c.IsReputation==0?"":c.IsReputation;if(c.Type==3)c.Page+=1,navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(b){c.setupSupportLocation(b),e+="&"+f.GetUrlParams({page:c.Page,lat:c.Lat,lon:c.Lon,count:c.Count,lastId:c.LastId,ExcludeIds:c.ExcludeIds,districtId:c.DistrictId,cateId:c.CateId,cuisineId:c.CuisineId,isReputation:c.IsReputation,isBooking:c.IsBooking,isDelivery:c.IsDelivery,type:c.Type}),a.get(e).then(function(a){a=a.data;if(!a||a.error){c.IsLoading=!1;return}d(a)}).catch(function(a){a=a.data,f.Log(a),c.IsLoading=!1})},function(){c.unsupportLocation()});else if(c.IsDelivery&&c.Type==6){var g="/__get/Delivery/HomeListDeals";g+="?"+f.GetUrlParams({requestCount:50,type:"",nextItemId:c.LastId,masterRoot:1,rootCate:""}),a.get(g).then(function(a){a=a.data;if(!a||a.error){c.IsLoading=!1;return}var e={Items:[]};c.TotalDeals==0?(c.TotalDeals=a.TotalCount,e.Total=a.TotalCount):e.Total=c.TotalDeals,e.Count=a.ResultCount,e.CityId=a.CityId,e.LastId=a.NextItemId,a.lsDeliveryOffer!=null&&a.lsDeliveryOffer.length>0?e.Items=a.lsDeliveryOffer:(c.Type=1,c.IsHideDealTab=!0,c.getData(b,d)),d(e)}).catch(function(a){})}else c.Page+=1,e+="&"+f.GetUrlParams({page:c.Page,lat:c.Lat,lon:c.Lon,count:c.Count,lastId:c.LastId,ExcludeIds:c.ExcludeIds,districtId:c.DistrictId,cateId:c.CateId,cuisineId:c.CuisineId,isReputation:c.IsReputation,isBooking:c.IsBooking,isDelivery:c.IsDelivery,type:c.Type}),a.get(e).then(function(a){a=a.data;if(!a||a.error){c.IsLoading=!1;return}c.IsBooking&&c.Type==7&&a.Items.length==0&&(c.Type=1,c.IsHideFeaturedTab=!0,c.getData(b,d)),d(a)}).catch(function(a){a=a.data,f.Log(a),c.IsLoading=!1})},c.bindData=function(a,b,d){a==1&&(c.Items=[],c.LoadMoreCount=0),c.$parent&&(c.$parent.IsFirstLoad=!1),c.Type!=3&&(c.Count=b.Count,c.LastId=b.LastId),c.Total=b.Total,c.CityId=b.CityId;var e=[];for(var g=0;g<b.Items.length;g++)b.Items[g].DeliveryNowUrl=f.FormatNowUrl(b.Items[g].LocationUrlRewriteName,b.Items[g].UrlRewriteName),b.Items[g].DisplayOrder===null?c.Items.push(b.Items[g]):parseInt(b.Items[g].DisplayOrder)>0&&(b.Items[g].DisplayOrder=b.Items[g].DisplayOrder-1,e.push(b.Items[g]));if(e.length>0)for(var h=0;h<e.length;h++)c.Items.splice(parseInt(e[h].DisplayOrder),0,e[h]);c.Type==1&&(c.ExcludeIds=b.ExcludeIds),b.Items.length==0?c.NoLoadMore=!0:c.NoLoadMore=!1,f.RunFnc(d,b)},c.Init=function(){c.Type=d.type?d.type:1,c.IsBooking=d.IsBooking?!0:null,c.IsDelivery=d.IsDelivery?!0:null,c.IsDelivery&&(c.Type=6),c.IsBooking&&(c.Type=7),c.LoadMore(!0)},c.LoadMore=function(a,b){c.LoadMoreCount>=5?i.Show(function(d){d.LoggedIn&&c.LoadData(a,b)}):c.LoadData(a,b)},c.LoadData=function(a,b){if(c.IsLoading==1||!a&&c.IsLoadMore()!=1)return;c.IsLoading=!0,c.getData(a,function(d){c.bindData(a,d,function(){c.IsLoading=!1,f.RunFnc(b,d)})})},c.Filter=function(){c.LoadMore(!0)},c.ChangeType=function(a){a==5?i.Show(function(b){b.LoggedIn&&c.Predefine(a)}):c.Predefine(a)},c.Predefine=function(a){c.NoLoadMore=!1,c.Items=[],c.Type=a,c.DistrictId="",c.CateId="",c.IsReputation="",c.CuisineId="",c.LoadMore(!0)},b.$broadcast("main.cate",{MenuId:c.MenuId}),c.$on("main.scroll",function(a,b){c.IsLoading==0&&c.LoadMoreCount<5&&c.IsLoadMore()==1&&c.NoLoadMore==0&&c.LoadMore(!1,function(){c.LoadMoreCount++})}),c.ShowPopupGallery=function(a){g.Show(a)},c.ShowPopupReviews=function(a){h.Show(a)},c.ClickGA=function(a,b,c,d,e){var f=$(e).text();window.ga&&a.IsAds&&((c+1)%2==0&&ga("ads.send","event",b+"["+(c+1)+"]","Click",a.Name),(c+1)%2!=0&&d!=""&&ga("ads.send","event",b+"["+(c+1)+"]"+"_["+f+"]","Click",a.Name))},c.ImpressionGa=function(a,b,c,d,e){var f=$(e).text();window.ga&&a.IsAds&&((c+1)%2==0&&ga("ads.send","event",b+"["+(c+1)+"]","Impression",a.Name),(c+1)%2!=0&&d!=""&&ga("ads.send","event",b+"["+(c+1)+"]"+"_["+f+"]","Impression",a.Name))},c.StartCountDown=function(a,b){if(c.LstDealCountDownCalled.indexOf(b)===-1){c.LstDealCountDownCalled.push(b),a=parseInt(a);var d=Math.floor(a/3600);a-=d*3600;var e=Math.floor(a/60)%60;a-=e*60;var f=a%60;start_counting_down(d,e,f,"txt_h_"+b,"txt_m_"+b,"txt_s_"+b)}},c.ShowPCC=function(){if($.cookie("hide-pcc")!="true"&&d.MenuId==1){$("#popup-choose-category").length<1&&window.homeBannerModel&&homeBannerModel.SlideBanner&&homeBannerModel.SlideBanner();var a=window.RootCountryId,b=null;a!=null&&a==42?b=$("#popup-choose-category").bPopup({followSpeed:0,modalClose:!0,escClose:!0,onClose:function(){$.cookie("hide-pcc",!0)}}):b=$("#popup-choose-category").bPopup({followSpeed:0,modalClose:!1,escClose:!1,onClose:function(){$.cookie("hide-pcc",!0)}}),$("#popup-choose-category a").click(function(){b.close()})}else window.homeBannerModel&&homeBannerModel.SlideBanner&&homeBannerModel.SlideBanner()},c.ShowPCC()}"use strict",angular.module("FoodyApp").controller("PlaceCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","DlgCommon","Helper","DlgGallery","DlgReviews","DlgLogin"]})()
;(function(){function a(a,b,c,d,e,f,g,h,i){var j=this;j.$scope=b,b.MenuId=1,b.IsLoading=!1,b.IsFirstLoad=!0,$(window).scroll(function(){j.timeOutScroll&&clearTimeout(j.timeOutScroll),j.timeOutScroll=setTimeout(function(){var a=$(window).scrollTop(),b=$(".home2-panel-view").height(),d=$(".home2-panel-view").offset();b>0&&a+1e3>b+d.top&&c.$broadcast("main.scroll",{})},10)}),b.ScrollTop=function(){var a=$("#ajaxRequestDiv");setTimeout(function(){i.ScrollShowTop(a,-50)},500)},c.ServiceRedirect=function(a){var b=window.open(a,"_blank");b.focus()},b.Init=function(){b.Route("",1,!0),$(".foody-logo").on("click",function(){$(window).scrollTop(0),location.reload()})},b.Route=function(c,d,f){f||b.ScrollTop(),b.MenuId=d;var g="";switch(c){case"collections":g="/__get/ViewTemplate/HomeWishList";break;case"foods":g="/__get/ViewTemplate/HomePhoto";break;case"video":g="/__get/ViewTemplate/HomeVideo";break;case"reviews":g="/__get/ViewTemplate/HomeReview";break;case"articles":g="/__get/ViewTemplate/HomeArticle";break;case"e-card":g="/__get/ViewTemplate/HomeECard";break;case"bank-card":g="/__get/ViewTemplate/HomeBankCard";break;case"promotion":g="/__get/ViewTemplate/HomePromotion";break;case"newsfeed":g="/__get/ViewTemplate/HomeNewsFeed";break;case"delivery":e.IsDelivery=!0,e.IsBooking=!1,g="/__get/ViewTemplate/HomePlace";break;case"booking":e.IsDelivery=!1,e.IsBooking=!0,g="/__get/ViewTemplate/HomePlace";break;default:e.IsDelivery=!1,e.IsBooking=!1,g="/__get/ViewTemplate/HomePlace"}a.get(g).then(function(a){a=a.data;var c=angular.element(a),d=angular.element(document.getElementById("ajaxRequestDiv"));d.empty(),d.append(c),h(c)(b)})}}"use strict",angular.module("FoodyApp").controller("MainCtrl",a),a.$inject=["$http","$scope","$rootScope","$route","$routeParams","$location","$element","$compile","Helper"]})()
;(function(){function a(a,b,c,d,e,f,g){function i(b,d){b==1&&(c.Count=5,c.LastId=null),c.IsLoading=!0;var f="/__get/NewsFeed/HomeList";f+=e.GetParamRnd(f),f+="&"+e.GetUrlParams({sortType:c.SortType,count:c.Count,lastId:c.LastId}),a.get(f).then(function(a){a=a.data;if(!a){c.IsLoading=!1;return}d(a)}).catch(function(a){a=a.data,e.Log(a),c.IsLoading=!1})}function j(a,b,d){a==1&&(c.Items=[]),c.$parent.IsFirstLoad=!1,c.LastId=b.LastId,c.Total=b.Total;for(var f=0;f<b.Items.length;f++)b.Items[f].DisplayDate=e.DateFormat(b.Items[f].ShowDate),c.Items.push(b.Items[f]);e.RunFnc(d,b)}function k(a,b,d){if(c.CUser!=null){m(a,b,d);return}g.Show(function(c){c.LoggedIn&&o(!0,function(){m(a,b,d)})})}function l(a,b,d){if(c.CUser!=null){n(a,b,d);return}g.Show(function(c){c.LoggedIn&&o(!0,function(){n(a,b,d)})})}function m(b,c,d){var f="/__post/Comment/Like";a.post(f,{id:b,type:c}).then(function(a){a=a.data;if(!a||a.Error)return;e.RunFnc(d)}).catch(function(a){a=a.data,e.Log(a)})}function n(b,c,d){var f="/__post/Comment/UnLike";a.post(f,{id:b,type:c}).then(function(a){a=a.data;if(!a)return;e.RunFnc(d)}).catch(function(a){a=a.data,e.Log(a)})}function o(a,b){e.GetCurrentUser(function(a){c.CUser=a,e.RunFnc(b)},a)}var h=this;h.$scope=c,c.Count=5,c.CUser=null,c.LastId=null,c.Total=0,c.LoadMoreCount=0,c.Items=[],c.IsLoading=!1,c.PreloadList=[1,2,3],c.IsLoadMore=function(){return c.Total-c.Items.length>0},c.MenuId=d.MenuId?d.MenuId:1,b.$broadcast("main.cate",{MenuId:c.MenuId}),c.Init=function(){c.SortType=1,o(!0),c.LoadData(!0)},c.ChangeType=function(a){c.SortType=a,c.Items=[],c.LoadData(!0)},c.LoadData=function(a,b){if(c.IsLoading==1)return;c.IsLoading=!0,i(a,function(d){j(a,d,function(){c.IsLoading=!1,e.RunFnc(b)})})},c.Link=function(b){var c="/__post/NewsFeed/UpdateTotalViews",d=e.GetParamRnd(c);a.post(c,{id:b}).then(function(a){a=a.data}).catch(function(a){a=a.data,e.Log(a)})},c.ShowDetail=function(a){f.Show(a)},c.TbLike=function(a){a.IsLiked?l(a.Id,20,function(){a.IsLiked=!1,a.TotalLike--}):k(a.Id,20,function(){a.IsLiked=!0,a.TotalLike++})},c.ScrollTop=function(){var a=$(".home2-panel-right"),b=$(".home2-panel-right .foody-toolbar:visible").height();setTimeout(function(){e.ScrollShowTop(a,-b)},500)},c.$on("main.scroll",function(a,b){c.IsLoading==0&&c.IsLoadMore()==1&&c.LoadData(!1,function(){})})}"use strict",angular.module("FoodyApp").controller("HomeNewsFeedCtrl",a),a.$inject=["$http","$rootScope","$scope","$routeParams","Helper","DlgNewsFeed","DlgLogin"]})()
